{"msg":"Test Suite starting","total":26,"completed":0,"skipped":0,"failed":0}
Running Suite: Kubernetes e2e suite
===================================
Random Seed: [1m1582252267[0m - Will randomize all specs
Will run [1m26[0m of [1m4849[0m specs

Feb 20 18:31:10.243: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
Feb 20 18:31:10.264: INFO: Waiting up to 30m0s for all (but 0) nodes to be schedulable
Feb 20 18:31:10.315: INFO: Waiting up to 10m0s for all pods (need at least 0) in namespace 'kube-system' to be running and ready
Feb 20 18:31:10.402: INFO: 7 / 7 pods in namespace 'kube-system' are running and ready (0 seconds elapsed)
Feb 20 18:31:10.402: INFO: expected 2 pod replicas in namespace 'kube-system', 2 are Running and Ready.
Feb 20 18:31:10.402: INFO: Waiting up to 5m0s for all daemonsets in namespace 'kube-system' to start
Feb 20 18:31:10.420: INFO: 1 / 1 pods ready in namespace 'kube-system' in daemonset 'kube-proxy' (0 seconds elapsed)
Feb 20 18:31:10.420: INFO: e2e test version: v1.19.0-alpha.0.103+751b3c08aa299c
Feb 20 18:31:10.424: INFO: kube-apiserver version: v1.17.3
Feb 20 18:31:10.424: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
Feb 20 18:31:10.438: INFO: Cluster IP family: ipv4
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:31:10.450: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
Feb 20 18:31:10.575: INFO: No PodSecurityPolicies found; assuming PodSecurityPolicy is disabled.
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8978
Feb 20 18:31:10.614: INFO: Created pod server-tsdn4
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8978
Feb 20 18:31:10.678: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:31:10.702: INFO: The status of Pod server-tsdn4 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:31:12.707: INFO: The status of Pod server-tsdn4 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:31:14.707: INFO: The status of Pod server-tsdn4 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:31:16.740: INFO: The status of Pod server-tsdn4 is Running (Ready = false)
Feb 20 18:31:18.707: INFO: The status of Pod server-tsdn4 is Running (Ready = false)
Feb 20 18:31:20.707: INFO: The status of Pod server-tsdn4 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:31:20.718: INFO: Waiting for client-can-connect-80-f8cwh to complete.
Feb 20 18:31:24.743: INFO: Waiting for client-can-connect-80-f8cwh to complete.
Feb 20 18:31:24.743: INFO: Waiting up to 5m0s for pod "client-can-connect-80-f8cwh" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:31:24.745: INFO: Pod "client-can-connect-80-f8cwh": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.631925ms
[1mSTEP[0m: Saw pod success
Feb 20 18:31:24.745: INFO: Pod "client-can-connect-80-f8cwh" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-f8cwh
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:31:24.810: INFO: Waiting for client-can-connect-81-bz48b to complete.
Feb 20 18:31:28.824: INFO: Waiting for client-can-connect-81-bz48b to complete.
Feb 20 18:31:28.824: INFO: Waiting up to 5m0s for pod "client-can-connect-81-bz48b" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:31:28.829: INFO: Pod "client-can-connect-81-bz48b": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.702984ms
[1mSTEP[0m: Saw pod success
Feb 20 18:31:28.829: INFO: Pod "client-can-connect-81-bz48b" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-bz48b
[It] should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065
[1mSTEP[0m: Creating a server pod server-b in namespace network-policy-8978
Feb 20 18:31:28.882: INFO: Created pod server-b-7tblc
[1mSTEP[0m: Creating a service svc-server-b for pod server-b in namespace network-policy-8978
Feb 20 18:31:28.997: INFO: Created service svc-server-b
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:31:29.003: INFO: The status of Pod server-b-7tblc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:31:31.013: INFO: The status of Pod server-b-7tblc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:31:33.008: INFO: The status of Pod server-b-7tblc is Running (Ready = false)
Feb 20 18:31:35.011: INFO: The status of Pod server-b-7tblc is Running (Ready = true)
[1mSTEP[0m: Creating client-a which should be able to contact the server before applying policy.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server-b.
Feb 20 18:31:35.034: INFO: Waiting for client-a-hvw24 to complete.
Feb 20 18:31:39.061: INFO: Waiting for client-a-hvw24 to complete.
Feb 20 18:31:39.062: INFO: Waiting up to 5m0s for pod "client-a-hvw24" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:31:39.065: INFO: Pod "client-a-hvw24": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.521993ms
[1mSTEP[0m: Saw pod success
Feb 20 18:31:39.065: INFO: Pod "client-a-hvw24" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-hvw24
[1mSTEP[0m: Creating a network policy for the server which allows traffic only to server-a.
[1mSTEP[0m: Creating client-a which should not be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server-b.
Feb 20 18:31:39.150: INFO: Waiting for client-a-ztsdw to complete.
Feb 20 18:31:39.150: INFO: Waiting up to 5m0s for pod "client-a-ztsdw" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:31:39.204: INFO: Pod "client-a-ztsdw": Phase="Pending", Reason="", readiness=false. Elapsed: 53.645573ms
Feb 20 18:31:41.209: INFO: Pod "client-a-ztsdw": Phase="Pending", Reason="", readiness=false. Elapsed: 2.058884355s
Feb 20 18:31:43.216: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 4.065751293s
Feb 20 18:31:45.223: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 6.072856909s
Feb 20 18:31:47.231: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 8.080601856s
Feb 20 18:31:49.236: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 10.085515044s
Feb 20 18:31:51.241: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 12.090373662s
Feb 20 18:31:53.246: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 14.095465963s
Feb 20 18:31:55.251: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 16.10017937s
Feb 20 18:31:57.257: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 18.106128797s
Feb 20 18:31:59.262: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 20.11111393s
Feb 20 18:32:01.268: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 22.117681775s
Feb 20 18:32:03.274: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 24.123611185s
Feb 20 18:32:05.280: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 26.129453991s
Feb 20 18:32:07.289: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 28.139031946s
Feb 20 18:32:09.295: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 30.14486982s
Feb 20 18:32:11.299: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 32.148901103s
Feb 20 18:32:13.304: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 34.153344855s
Feb 20 18:32:15.309: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 36.158182595s
Feb 20 18:32:17.319: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 38.168917636s
Feb 20 18:32:19.328: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 40.177813538s
Feb 20 18:32:21.339: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 42.18814181s
Feb 20 18:32:23.345: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 44.194839635s
Feb 20 18:32:25.350: INFO: Pod "client-a-ztsdw": Phase="Running", Reason="", readiness=true. Elapsed: 46.199665517s
Feb 20 18:32:27.358: INFO: Pod "client-a-ztsdw": Phase="Failed", Reason="", readiness=false. Elapsed: 48.207891864s
[1mSTEP[0m: Cleaning up the pod client-a-ztsdw
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:32:27.440: INFO: Waiting for client-a-gxgxs to complete.
Feb 20 18:32:31.457: INFO: Waiting for client-a-gxgxs to complete.
Feb 20 18:32:31.457: INFO: Waiting up to 5m0s for pod "client-a-gxgxs" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:32:31.460: INFO: Pod "client-a-gxgxs": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.832527ms
[1mSTEP[0m: Saw pod success
Feb 20 18:32:31.460: INFO: Pod "client-a-gxgxs" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-gxgxs
[1mSTEP[0m: Creating a network policy which allows traffic to all pods.
[1mSTEP[0m: Creating client-a which should be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server-b.
Feb 20 18:32:31.514: INFO: Waiting for client-a-bqczf to complete.
Feb 20 18:32:35.536: INFO: Waiting for client-a-bqczf to complete.
Feb 20 18:32:35.537: INFO: Waiting up to 5m0s for pod "client-a-bqczf" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:32:35.540: INFO: Pod "client-a-bqczf": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.110793ms
[1mSTEP[0m: Saw pod success
Feb 20 18:32:35.540: INFO: Pod "client-a-bqczf" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-bqczf
[1mSTEP[0m: Creating client-a which should be able to contact the server-a.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:32:35.604: INFO: Waiting for client-a-pd4kf to complete.
Feb 20 18:32:39.620: INFO: Waiting for client-a-pd4kf to complete.
Feb 20 18:32:39.620: INFO: Waiting up to 5m0s for pod "client-a-pd4kf" in namespace "network-policy-8978" to be "Succeeded or Failed"
Feb 20 18:32:39.626: INFO: Pod "client-a-pd4kf": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.656323ms
[1mSTEP[0m: Saw pod success
Feb 20 18:32:39.626: INFO: Pod "client-a-pd4kf" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-pd4kf
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:32:40.109: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8978" for this suite.

[32m• [SLOW TEST:89.715 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]","total":26,"completed":1,"skipped":283,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:32:40.255: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-813
Feb 20 18:32:40.521: INFO: Created pod server-pb4t7
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-813
Feb 20 18:32:40.628: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:32:40.653: INFO: The status of Pod server-pb4t7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:32:42.659: INFO: The status of Pod server-pb4t7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:32:44.660: INFO: The status of Pod server-pb4t7 is Running (Ready = false)
Feb 20 18:32:46.665: INFO: The status of Pod server-pb4t7 is Running (Ready = false)
Feb 20 18:32:48.658: INFO: The status of Pod server-pb4t7 is Running (Ready = false)
Feb 20 18:32:50.659: INFO: The status of Pod server-pb4t7 is Running (Ready = false)
Feb 20 18:32:52.661: INFO: The status of Pod server-pb4t7 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:32:52.680: INFO: Waiting for client-can-connect-80-j8s9m to complete.
Feb 20 18:32:56.855: INFO: Waiting for client-can-connect-80-j8s9m to complete.
Feb 20 18:32:56.859: INFO: Waiting up to 5m0s for pod "client-can-connect-80-j8s9m" in namespace "network-policy-813" to be "Succeeded or Failed"
Feb 20 18:32:56.868: INFO: Pod "client-can-connect-80-j8s9m": Phase="Succeeded", Reason="", readiness=false. Elapsed: 8.304729ms
[1mSTEP[0m: Saw pod success
Feb 20 18:32:56.868: INFO: Pod "client-can-connect-80-j8s9m" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-j8s9m
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:32:57.219: INFO: Waiting for client-can-connect-81-r8jvv to complete.
Feb 20 18:33:03.236: INFO: Waiting for client-can-connect-81-r8jvv to complete.
Feb 20 18:33:03.236: INFO: Waiting up to 5m0s for pod "client-can-connect-81-r8jvv" in namespace "network-policy-813" to be "Succeeded or Failed"
Feb 20 18:33:03.240: INFO: Pod "client-can-connect-81-r8jvv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.88358ms
[1mSTEP[0m: Saw pod success
Feb 20 18:33:03.240: INFO: Pod "client-can-connect-81-r8jvv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-r8jvv
[It] should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:33:03.306: INFO: Waiting for client-a-9fr4z to complete.
Feb 20 18:33:07.328: INFO: Waiting for client-a-9fr4z to complete.
Feb 20 18:33:07.328: INFO: Waiting up to 5m0s for pod "client-a-9fr4z" in namespace "network-policy-813" to be "Succeeded or Failed"
Feb 20 18:33:07.339: INFO: Pod "client-a-9fr4z": Phase="Succeeded", Reason="", readiness=false. Elapsed: 11.084981ms
[1mSTEP[0m: Saw pod success
Feb 20 18:33:07.339: INFO: Pod "client-a-9fr4z" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-9fr4z
[1mSTEP[0m: Creating client-a which should no longer be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:33:07.478: INFO: Waiting for client-a-t42fm to complete.
Feb 20 18:33:07.478: INFO: Waiting up to 5m0s for pod "client-a-t42fm" in namespace "network-policy-813" to be "Succeeded or Failed"
Feb 20 18:33:07.505: INFO: Pod "client-a-t42fm": Phase="Pending", Reason="", readiness=false. Elapsed: 27.053538ms
Feb 20 18:33:09.513: INFO: Pod "client-a-t42fm": Phase="Pending", Reason="", readiness=false. Elapsed: 2.034475669s
Feb 20 18:33:11.520: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 4.041998184s
Feb 20 18:33:13.526: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 6.048059977s
Feb 20 18:33:15.533: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 8.05454299s
Feb 20 18:33:17.540: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 10.06188737s
Feb 20 18:33:19.546: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 12.067423675s
Feb 20 18:33:21.552: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 14.073395142s
Feb 20 18:33:23.558: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 16.08028784s
Feb 20 18:33:25.566: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 18.087441746s
Feb 20 18:33:27.573: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 20.094391441s
Feb 20 18:33:29.578: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 22.099486644s
Feb 20 18:33:31.620: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 24.141718867s
Feb 20 18:33:33.629: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 26.151112928s
Feb 20 18:33:35.640: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 28.161895515s
Feb 20 18:33:37.651: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 30.173062415s
Feb 20 18:33:39.657: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 32.179020105s
Feb 20 18:33:41.663: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 34.185260587s
Feb 20 18:33:43.668: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 36.189965628s
Feb 20 18:33:45.676: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 38.197472065s
Feb 20 18:33:47.687: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 40.208426044s
Feb 20 18:33:49.695: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 42.216397611s
Feb 20 18:33:51.712: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 44.23337605s
Feb 20 18:33:53.718: INFO: Pod "client-a-t42fm": Phase="Running", Reason="", readiness=true. Elapsed: 46.239986038s
Feb 20 18:33:55.725: INFO: Pod "client-a-t42fm": Phase="Failed", Reason="", readiness=false. Elapsed: 48.246440645s
[1mSTEP[0m: Cleaning up the pod client-a-t42fm
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:33:55.998: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-813" for this suite.

[32m• [SLOW TEST:75.776 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]","total":26,"completed":2,"skipped":680,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:33:56.126: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-1102
Feb 20 18:33:56.434: INFO: Created pod server-428g6
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-1102
Feb 20 18:33:56.508: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:33:56.525: INFO: The status of Pod server-428g6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:33:58.531: INFO: The status of Pod server-428g6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:34:00.532: INFO: The status of Pod server-428g6 is Running (Ready = false)
Feb 20 18:34:02.531: INFO: The status of Pod server-428g6 is Running (Ready = false)
Feb 20 18:34:04.538: INFO: The status of Pod server-428g6 is Running (Ready = false)
Feb 20 18:34:06.539: INFO: The status of Pod server-428g6 is Running (Ready = false)
Feb 20 18:34:08.530: INFO: The status of Pod server-428g6 is Running (Ready = false)
Feb 20 18:34:10.530: INFO: The status of Pod server-428g6 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:34:10.546: INFO: Waiting for client-can-connect-80-8pct9 to complete.
Feb 20 18:34:14.583: INFO: Waiting for client-can-connect-80-8pct9 to complete.
Feb 20 18:34:14.583: INFO: Waiting up to 5m0s for pod "client-can-connect-80-8pct9" in namespace "network-policy-1102" to be "Succeeded or Failed"
Feb 20 18:34:14.586: INFO: Pod "client-can-connect-80-8pct9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.460102ms
[1mSTEP[0m: Saw pod success
Feb 20 18:34:14.586: INFO: Pod "client-can-connect-80-8pct9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-8pct9
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:34:14.624: INFO: Waiting for client-can-connect-81-pn2sx to complete.
Feb 20 18:34:18.656: INFO: Waiting for client-can-connect-81-pn2sx to complete.
Feb 20 18:34:18.657: INFO: Waiting up to 5m0s for pod "client-can-connect-81-pn2sx" in namespace "network-policy-1102" to be "Succeeded or Failed"
Feb 20 18:34:18.662: INFO: Pod "client-can-connect-81-pn2sx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.37211ms
[1mSTEP[0m: Saw pod success
Feb 20 18:34:18.663: INFO: Pod "client-can-connect-81-pn2sx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-pn2sx
[It] should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159
Feb 20 18:34:18.783: INFO: Waiting for server to come up.
[1mSTEP[0m: Creating a network policy for the server which allows traffic from namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:34:18.843: INFO: Waiting for client-a-9fgrv to complete.
Feb 20 18:34:18.843: INFO: Waiting up to 5m0s for pod "client-a-9fgrv" in namespace "network-policy-1102" to be "Succeeded or Failed"
Feb 20 18:34:18.872: INFO: Pod "client-a-9fgrv": Phase="Pending", Reason="", readiness=false. Elapsed: 28.703309ms
Feb 20 18:34:20.878: INFO: Pod "client-a-9fgrv": Phase="Pending", Reason="", readiness=false. Elapsed: 2.03462624s
Feb 20 18:34:22.883: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 4.03975051s
Feb 20 18:34:24.889: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 6.045682709s
Feb 20 18:34:26.926: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 8.082385107s
Feb 20 18:34:28.936: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 10.092505749s
Feb 20 18:34:30.943: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 12.099204684s
Feb 20 18:34:32.948: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 14.104058983s
Feb 20 18:34:35.008: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 16.164851337s
Feb 20 18:34:37.023: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 18.179247443s
Feb 20 18:34:39.033: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 20.189344695s
Feb 20 18:34:41.058: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 22.214862198s
Feb 20 18:34:43.063: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 24.219175976s
Feb 20 18:34:45.068: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 26.224172168s
Feb 20 18:34:47.079: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 28.23590203s
Feb 20 18:34:49.085: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 30.241469844s
Feb 20 18:34:51.091: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 32.247618305s
Feb 20 18:34:53.098: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 34.254221087s
Feb 20 18:34:55.104: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 36.260243232s
Feb 20 18:34:57.119: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 38.275305679s
Feb 20 18:34:59.125: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 40.281749988s
Feb 20 18:35:01.130: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 42.286888399s
Feb 20 18:35:03.136: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 44.29258956s
Feb 20 18:35:05.142: INFO: Pod "client-a-9fgrv": Phase="Running", Reason="", readiness=true. Elapsed: 46.298124155s
Feb 20 18:35:07.153: INFO: Pod "client-a-9fgrv": Phase="Failed", Reason="", readiness=false. Elapsed: 48.309236902s
[1mSTEP[0m: Cleaning up the pod client-a-9fgrv
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:35:07.218: INFO: Waiting for client-b-djl2q to complete.
Feb 20 18:35:11.236: INFO: Waiting for client-b-djl2q to complete.
Feb 20 18:35:11.236: INFO: Waiting up to 5m0s for pod "client-b-djl2q" in namespace "network-policy-b-871" to be "Succeeded or Failed"
Feb 20 18:35:11.240: INFO: Pod "client-b-djl2q": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.015875ms
[1mSTEP[0m: Saw pod success
Feb 20 18:35:11.241: INFO: Pod "client-b-djl2q" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-djl2q
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:35:11.468: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-1102" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-871" for this suite.

[32m• [SLOW TEST:75.395 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":3,"skipped":934,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from updated namespace [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:35:11.549: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4135
Feb 20 18:35:11.706: INFO: Created pod server-4zf8z
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4135
Feb 20 18:35:11.870: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:35:11.894: INFO: The status of Pod server-4zf8z is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:35:13.905: INFO: The status of Pod server-4zf8z is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:35:15.903: INFO: The status of Pod server-4zf8z is Running (Ready = false)
Feb 20 18:35:17.902: INFO: The status of Pod server-4zf8z is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:35:17.915: INFO: Waiting for client-can-connect-80-524cl to complete.
Feb 20 18:35:21.942: INFO: Waiting for client-can-connect-80-524cl to complete.
Feb 20 18:35:21.942: INFO: Waiting up to 5m0s for pod "client-can-connect-80-524cl" in namespace "network-policy-4135" to be "Succeeded or Failed"
Feb 20 18:35:21.946: INFO: Pod "client-can-connect-80-524cl": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.344334ms
[1mSTEP[0m: Saw pod success
Feb 20 18:35:21.947: INFO: Pod "client-can-connect-80-524cl" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-524cl
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:35:22.023: INFO: Waiting for client-can-connect-81-9rvp6 to complete.
Feb 20 18:35:26.052: INFO: Waiting for client-can-connect-81-9rvp6 to complete.
Feb 20 18:35:26.052: INFO: Waiting up to 5m0s for pod "client-can-connect-81-9rvp6" in namespace "network-policy-4135" to be "Succeeded or Failed"
Feb 20 18:35:26.055: INFO: Pod "client-can-connect-81-9rvp6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.017564ms
[1mSTEP[0m: Saw pod success
Feb 20 18:35:26.055: INFO: Pod "client-can-connect-81-9rvp6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-9rvp6
[It] should allow ingress access from updated namespace [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775
[1mSTEP[0m: Creating a network policy for the server which allows traffic from namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:35:26.262: INFO: Waiting for client-a-jb5vz to complete.
Feb 20 18:35:26.263: INFO: Waiting up to 5m0s for pod "client-a-jb5vz" in namespace "network-policy-b-8388" to be "Succeeded or Failed"
Feb 20 18:35:26.281: INFO: Pod "client-a-jb5vz": Phase="Pending", Reason="", readiness=false. Elapsed: 18.819522ms
Feb 20 18:35:28.289: INFO: Pod "client-a-jb5vz": Phase="Pending", Reason="", readiness=false. Elapsed: 2.026251578s
Feb 20 18:35:30.294: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 4.031427691s
Feb 20 18:35:32.301: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 6.038251845s
Feb 20 18:35:34.306: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 8.043491579s
Feb 20 18:35:36.315: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 10.051918949s
Feb 20 18:35:38.323: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 12.060432803s
Feb 20 18:35:40.334: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 14.071798677s
Feb 20 18:35:42.339: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 16.076472599s
Feb 20 18:35:44.344: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 18.081517059s
Feb 20 18:35:46.355: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 20.091914548s
Feb 20 18:35:48.360: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 22.097244409s
Feb 20 18:35:50.365: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 24.102591079s
Feb 20 18:35:52.370: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 26.107694896s
Feb 20 18:35:54.376: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 28.113367272s
Feb 20 18:35:56.391: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 30.127987293s
Feb 20 18:35:58.400: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 32.13744032s
Feb 20 18:36:00.407: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 34.144461935s
Feb 20 18:36:02.415: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 36.152697674s
Feb 20 18:36:04.421: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 38.158148549s
Feb 20 18:36:06.432: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 40.169061173s
Feb 20 18:36:08.437: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 42.174424552s
Feb 20 18:36:10.443: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 44.180609586s
Feb 20 18:36:12.449: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 46.185903521s
Feb 20 18:36:14.453: INFO: Pod "client-a-jb5vz": Phase="Running", Reason="", readiness=true. Elapsed: 48.190466011s
Feb 20 18:36:16.463: INFO: Pod "client-a-jb5vz": Phase="Failed", Reason="", readiness=false. Elapsed: 50.200712199s
[1mSTEP[0m: Cleaning up the pod client-a-jb5vz
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:36:16.561: INFO: Waiting for client-b-6kmtj to complete.
Feb 20 18:36:20.583: INFO: Waiting for client-b-6kmtj to complete.
Feb 20 18:36:20.583: INFO: Waiting up to 5m0s for pod "client-b-6kmtj" in namespace "network-policy-b-8388" to be "Succeeded or Failed"
Feb 20 18:36:20.587: INFO: Pod "client-b-6kmtj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.488291ms
[1mSTEP[0m: Saw pod success
Feb 20 18:36:20.587: INFO: Pod "client-b-6kmtj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-6kmtj
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:36:20.736: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4135" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-8388" for this suite.

[32m• [SLOW TEST:69.248 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from updated namespace [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from updated namespace [Feature:NetworkPolicy]","total":26,"completed":4,"skipped":1022,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:36:20.931: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-3419
Feb 20 18:36:21.092: INFO: Created pod server-gthlz
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-3419
Feb 20 18:36:21.197: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:36:21.218: INFO: The status of Pod server-gthlz is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:23.223: INFO: The status of Pod server-gthlz is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:25.223: INFO: The status of Pod server-gthlz is Running (Ready = false)
Feb 20 18:36:27.229: INFO: The status of Pod server-gthlz is Running (Ready = false)
Feb 20 18:36:29.224: INFO: The status of Pod server-gthlz is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:36:29.235: INFO: Waiting for client-can-connect-80-4jq2s to complete.
Feb 20 18:36:33.249: INFO: Waiting for client-can-connect-80-4jq2s to complete.
Feb 20 18:36:33.250: INFO: Waiting up to 5m0s for pod "client-can-connect-80-4jq2s" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:36:33.254: INFO: Pod "client-can-connect-80-4jq2s": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.516444ms
[1mSTEP[0m: Saw pod success
Feb 20 18:36:33.254: INFO: Pod "client-can-connect-80-4jq2s" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-4jq2s
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:36:33.304: INFO: Waiting for client-can-connect-81-x6zmp to complete.
Feb 20 18:36:37.325: INFO: Waiting for client-can-connect-81-x6zmp to complete.
Feb 20 18:36:37.325: INFO: Waiting up to 5m0s for pod "client-can-connect-81-x6zmp" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:36:37.329: INFO: Pod "client-can-connect-81-x6zmp": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.62175ms
[1mSTEP[0m: Saw pod success
Feb 20 18:36:37.329: INFO: Pod "client-can-connect-81-x6zmp" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-x6zmp
[It] should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497
[1mSTEP[0m: Creating a server pod pod-a in namespace network-policy-3419
Feb 20 18:36:37.381: INFO: Created pod pod-a-s7vbx
[1mSTEP[0m: Creating a service svc-pod-a for pod pod-a in namespace network-policy-3419
Feb 20 18:36:37.482: INFO: Created service svc-pod-a
[1mSTEP[0m: Waiting for pod-a to be ready
Feb 20 18:36:37.489: INFO: The status of Pod pod-a-s7vbx is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:39.498: INFO: The status of Pod pod-a-s7vbx is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:41.496: INFO: The status of Pod pod-a-s7vbx is Running (Ready = false)
Feb 20 18:36:43.495: INFO: The status of Pod pod-a-s7vbx is Running (Ready = true)
[1mSTEP[0m: Creating client pod-b which should be able to contact the server pod-a.
[1mSTEP[0m: Creating client pod pod-b that should successfully connect to svc-pod-a.
Feb 20 18:36:43.509: INFO: Waiting for pod-b-wtcqc to complete.
Feb 20 18:36:47.556: INFO: Waiting for pod-b-wtcqc to complete.
Feb 20 18:36:47.556: INFO: Waiting up to 5m0s for pod "pod-b-wtcqc" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:36:47.560: INFO: Pod "pod-b-wtcqc": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.247406ms
[1mSTEP[0m: Saw pod success
Feb 20 18:36:47.560: INFO: Pod "pod-b-wtcqc" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-b-wtcqc
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Creating a server pod pod-b in namespace network-policy-3419
Feb 20 18:36:47.786: INFO: Created pod pod-b-tf2sk
[1mSTEP[0m: Creating a service svc-pod-b for pod pod-b in namespace network-policy-3419
Feb 20 18:36:47.961: INFO: Created service svc-pod-b
[1mSTEP[0m: Waiting for pod-b to be ready
Feb 20 18:36:47.970: INFO: The status of Pod pod-b-tf2sk is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:49.978: INFO: The status of Pod pod-b-tf2sk is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:36:51.975: INFO: The status of Pod pod-b-tf2sk is Running (Ready = true)
[1mSTEP[0m: Creating client pod-a which should be able to contact the server pod-b.
[1mSTEP[0m: Creating client pod pod-a that should successfully connect to svc-pod-b.
Feb 20 18:36:51.994: INFO: Waiting for pod-a-dxl86 to complete.
Feb 20 18:36:56.018: INFO: Waiting for pod-a-dxl86 to complete.
Feb 20 18:36:56.018: INFO: Waiting up to 5m0s for pod "pod-a-dxl86" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:36:56.022: INFO: Pod "pod-a-dxl86": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.547719ms
[1mSTEP[0m: Saw pod success
Feb 20 18:36:56.022: INFO: Pod "pod-a-dxl86" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-a-dxl86
[1mSTEP[0m: Creating a network policy for pod-a which allows Egress traffic to pod-b.
[1mSTEP[0m: Creating a network policy for pod-a that denies traffic from pod-b.
[1mSTEP[0m: Creating client pod-a which should be able to contact the server pod-b.
[1mSTEP[0m: Creating client pod pod-a that should successfully connect to svc-pod-b.
Feb 20 18:36:56.077: INFO: Waiting for pod-a-jkhkw to complete.
Feb 20 18:37:00.104: INFO: Waiting for pod-a-jkhkw to complete.
Feb 20 18:37:00.104: INFO: Waiting up to 5m0s for pod "pod-a-jkhkw" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:37:00.110: INFO: Pod "pod-a-jkhkw": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.727576ms
[1mSTEP[0m: Saw pod success
Feb 20 18:37:00.110: INFO: Pod "pod-a-jkhkw" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-a-jkhkw
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Creating a server pod pod-a in namespace network-policy-3419
Feb 20 18:37:00.287: INFO: Created pod pod-a-l2glt
[1mSTEP[0m: Creating a service svc-pod-a for pod pod-a in namespace network-policy-3419
Feb 20 18:37:00.370: INFO: Created service svc-pod-a
[1mSTEP[0m: Waiting for pod-a to be ready
Feb 20 18:37:00.387: INFO: The status of Pod pod-a-l2glt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:37:02.392: INFO: The status of Pod pod-a-l2glt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:37:04.391: INFO: The status of Pod pod-a-l2glt is Running (Ready = false)
Feb 20 18:37:06.440: INFO: The status of Pod pod-a-l2glt is Running (Ready = false)
Feb 20 18:37:08.394: INFO: The status of Pod pod-a-l2glt is Running (Ready = true)
[1mSTEP[0m: Creating client pod-b which should be able to contact the server pod-a.
[1mSTEP[0m: Creating client pod pod-b that should not be able to connect to svc-pod-a.
Feb 20 18:37:08.404: INFO: Waiting for pod-b-kw5pz to complete.
Feb 20 18:37:08.404: INFO: Waiting up to 5m0s for pod "pod-b-kw5pz" in namespace "network-policy-3419" to be "Succeeded or Failed"
Feb 20 18:37:08.425: INFO: Pod "pod-b-kw5pz": Phase="Pending", Reason="", readiness=false. Elapsed: 20.242696ms
Feb 20 18:37:10.430: INFO: Pod "pod-b-kw5pz": Phase="Pending", Reason="", readiness=false. Elapsed: 2.025508159s
Feb 20 18:37:12.436: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 4.030862979s
Feb 20 18:37:14.440: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 6.03530789s
Feb 20 18:37:16.447: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 8.042165298s
Feb 20 18:37:18.453: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 10.048274543s
Feb 20 18:37:20.459: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 12.054219593s
Feb 20 18:37:22.464: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 14.059637384s
Feb 20 18:37:24.469: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 16.064442373s
Feb 20 18:37:26.476: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 18.071348493s
Feb 20 18:37:28.480: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 20.07545835s
Feb 20 18:37:30.488: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 22.082831405s
Feb 20 18:37:32.492: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 24.08736682s
Feb 20 18:37:34.498: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 26.093084619s
Feb 20 18:37:36.506: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 28.101281252s
Feb 20 18:37:38.512: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 30.107531978s
Feb 20 18:37:40.523: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 32.118303601s
Feb 20 18:37:42.534: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 34.128689104s
Feb 20 18:37:44.540: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 36.135360813s
Feb 20 18:37:46.550: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 38.145516133s
Feb 20 18:37:48.555: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 40.149699511s
Feb 20 18:37:50.560: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 42.154796395s
Feb 20 18:37:52.565: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 44.160041427s
Feb 20 18:37:54.570: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 46.165448803s
Feb 20 18:37:56.580: INFO: Pod "pod-b-kw5pz": Phase="Running", Reason="", readiness=true. Elapsed: 48.175252401s
Feb 20 18:37:58.589: INFO: Pod "pod-b-kw5pz": Phase="Failed", Reason="", readiness=false. Elapsed: 50.183842296s
[1mSTEP[0m: Cleaning up the pod pod-b-kw5pz
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:37:58.979: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-3419" for this suite.

[32m• [SLOW TEST:98.087 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]","total":26,"completed":5,"skipped":1621,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:37:59.052: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-2799
Feb 20 18:37:59.329: INFO: Created pod server-d64w6
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-2799
Feb 20 18:37:59.454: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:37:59.489: INFO: The status of Pod server-d64w6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:38:01.494: INFO: The status of Pod server-d64w6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:38:03.494: INFO: The status of Pod server-d64w6 is Running (Ready = false)
Feb 20 18:38:05.496: INFO: The status of Pod server-d64w6 is Running (Ready = false)
Feb 20 18:38:07.498: INFO: The status of Pod server-d64w6 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:38:07.512: INFO: Waiting for client-can-connect-80-jj5v7 to complete.
Feb 20 18:38:11.521: INFO: Waiting for client-can-connect-80-jj5v7 to complete.
Feb 20 18:38:11.521: INFO: Waiting up to 5m0s for pod "client-can-connect-80-jj5v7" in namespace "network-policy-2799" to be "Succeeded or Failed"
Feb 20 18:38:11.524: INFO: Pod "client-can-connect-80-jj5v7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.189161ms
[1mSTEP[0m: Saw pod success
Feb 20 18:38:11.524: INFO: Pod "client-can-connect-80-jj5v7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-jj5v7
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:38:11.555: INFO: Waiting for client-can-connect-81-t87bt to complete.
Feb 20 18:38:15.576: INFO: Waiting for client-can-connect-81-t87bt to complete.
Feb 20 18:38:15.576: INFO: Waiting up to 5m0s for pod "client-can-connect-81-t87bt" in namespace "network-policy-2799" to be "Succeeded or Failed"
Feb 20 18:38:15.579: INFO: Pod "client-can-connect-81-t87bt": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.441076ms
[1mSTEP[0m: Saw pod success
Feb 20 18:38:15.579: INFO: Pod "client-can-connect-81-t87bt" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-t87bt
[It] should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205
[1mSTEP[0m: Creating a network policy for the server which allows traffic from the pod 'client-a'.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:38:15.636: INFO: Waiting for client-a-x6bf2 to complete.
Feb 20 18:38:19.647: INFO: Waiting for client-a-x6bf2 to complete.
Feb 20 18:38:19.647: INFO: Waiting up to 5m0s for pod "client-a-x6bf2" in namespace "network-policy-2799" to be "Succeeded or Failed"
Feb 20 18:38:19.653: INFO: Pod "client-a-x6bf2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.434752ms
[1mSTEP[0m: Saw pod success
Feb 20 18:38:19.653: INFO: Pod "client-a-x6bf2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-x6bf2
[1mSTEP[0m: Creating client-b which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:38:19.719: INFO: Waiting for client-b-8jstg to complete.
Feb 20 18:38:19.719: INFO: Waiting up to 5m0s for pod "client-b-8jstg" in namespace "network-policy-2799" to be "Succeeded or Failed"
Feb 20 18:38:19.724: INFO: Pod "client-b-8jstg": Phase="Pending", Reason="", readiness=false. Elapsed: 4.832115ms
Feb 20 18:38:21.730: INFO: Pod "client-b-8jstg": Phase="Pending", Reason="", readiness=false. Elapsed: 2.010783433s
Feb 20 18:38:23.735: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 4.016433738s
Feb 20 18:38:25.740: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 6.02111642s
Feb 20 18:38:27.752: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 8.033027975s
Feb 20 18:38:29.757: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 10.038432998s
Feb 20 18:38:31.762: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 12.043340042s
Feb 20 18:38:33.767: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 14.04826312s
Feb 20 18:38:35.773: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 16.053887836s
Feb 20 18:38:37.784: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 18.064469977s
Feb 20 18:38:39.790: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 20.071114057s
Feb 20 18:38:41.813: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 22.094000173s
Feb 20 18:38:43.824: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 24.105332866s
Feb 20 18:38:45.837: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 26.117786899s
Feb 20 18:38:47.847: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 28.127645853s
Feb 20 18:38:49.852: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 30.133250387s
Feb 20 18:38:51.857: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 32.138133209s
Feb 20 18:38:53.862: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 34.142493446s
Feb 20 18:38:55.868: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 36.148639134s
Feb 20 18:38:57.880: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 38.161221503s
Feb 20 18:38:59.887: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 40.16764414s
Feb 20 18:39:01.892: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 42.173295297s
Feb 20 18:39:03.924: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 44.20450096s
Feb 20 18:39:05.929: INFO: Pod "client-b-8jstg": Phase="Running", Reason="", readiness=true. Elapsed: 46.210119469s
Feb 20 18:39:07.938: INFO: Pod "client-b-8jstg": Phase="Failed", Reason="", readiness=false. Elapsed: 48.219188673s
[1mSTEP[0m: Cleaning up the pod client-b-8jstg
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:39:08.133: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-2799" for this suite.

[32m• [SLOW TEST:69.125 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]","total":26,"completed":6,"skipped":1679,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce updated policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:39:08.228: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4433
Feb 20 18:39:08.375: INFO: Created pod server-j2zr4
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4433
Feb 20 18:39:08.492: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:39:08.504: INFO: The status of Pod server-j2zr4 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:39:10.529: INFO: The status of Pod server-j2zr4 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:39:12.509: INFO: The status of Pod server-j2zr4 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:39:12.521: INFO: Waiting for client-can-connect-80-xn5sr to complete.
Feb 20 18:39:16.543: INFO: Waiting for client-can-connect-80-xn5sr to complete.
Feb 20 18:39:16.544: INFO: Waiting up to 5m0s for pod "client-can-connect-80-xn5sr" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:39:16.549: INFO: Pod "client-can-connect-80-xn5sr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.706817ms
[1mSTEP[0m: Saw pod success
Feb 20 18:39:16.549: INFO: Pod "client-can-connect-80-xn5sr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-xn5sr
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:39:16.654: INFO: Waiting for client-can-connect-81-dwnxf to complete.
Feb 20 18:39:20.663: INFO: Waiting for client-can-connect-81-dwnxf to complete.
Feb 20 18:39:20.663: INFO: Waiting up to 5m0s for pod "client-can-connect-81-dwnxf" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:39:20.668: INFO: Pod "client-can-connect-81-dwnxf": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.374952ms
[1mSTEP[0m: Saw pod success
Feb 20 18:39:20.668: INFO: Pod "client-can-connect-81-dwnxf" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-dwnxf
[It] should enforce updated policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685
[1mSTEP[0m: Creating a network policy for the Service which allows traffic from pod at a port
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:39:20.718: INFO: Waiting for client-a-29rtl to complete.
Feb 20 18:39:24.745: INFO: Waiting for client-a-29rtl to complete.
Feb 20 18:39:24.745: INFO: Waiting up to 5m0s for pod "client-a-29rtl" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:39:24.749: INFO: Pod "client-a-29rtl": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.933104ms
[1mSTEP[0m: Saw pod success
Feb 20 18:39:24.749: INFO: Pod "client-a-29rtl" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-29rtl
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:39:24.817: INFO: Waiting for client-b-7gf5f to complete.
Feb 20 18:39:24.817: INFO: Waiting up to 5m0s for pod "client-b-7gf5f" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:39:24.821: INFO: Pod "client-b-7gf5f": Phase="Pending", Reason="", readiness=false. Elapsed: 4.668452ms
Feb 20 18:39:26.830: INFO: Pod "client-b-7gf5f": Phase="Pending", Reason="", readiness=false. Elapsed: 2.012972476s
Feb 20 18:39:28.834: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 4.017735653s
Feb 20 18:39:30.838: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 6.020957341s
Feb 20 18:39:32.843: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 8.026007373s
Feb 20 18:39:34.848: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 10.031794625s
Feb 20 18:39:36.855: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 12.038793984s
Feb 20 18:39:38.862: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 14.045369355s
Feb 20 18:39:40.878: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 16.061089643s
Feb 20 18:39:42.883: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 18.066496059s
Feb 20 18:39:44.893: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 20.076422826s
Feb 20 18:39:46.903: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 22.085957673s
Feb 20 18:39:48.908: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 24.091741545s
Feb 20 18:39:50.915: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 26.098823105s
Feb 20 18:39:52.921: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 28.104084535s
Feb 20 18:39:54.926: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 30.108999932s
Feb 20 18:39:56.938: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 32.121792492s
Feb 20 18:39:58.944: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 34.127203798s
Feb 20 18:40:00.949: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 36.132842361s
Feb 20 18:40:02.954: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 38.137472045s
Feb 20 18:40:04.958: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 40.141759775s
Feb 20 18:40:06.968: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 42.151779568s
Feb 20 18:40:08.977: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 44.160049076s
Feb 20 18:40:10.983: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 46.166528807s
Feb 20 18:40:12.992: INFO: Pod "client-b-7gf5f": Phase="Running", Reason="", readiness=true. Elapsed: 48.17567217s
Feb 20 18:40:14.999: INFO: Pod "client-b-7gf5f": Phase="Failed", Reason="", readiness=false. Elapsed: 50.182527526s
[1mSTEP[0m: Cleaning up the pod client-b-7gf5f
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:40:15.058: INFO: Waiting for client-a-hm8wr to complete.
Feb 20 18:40:15.058: INFO: Waiting up to 5m0s for pod "client-a-hm8wr" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:40:15.067: INFO: Pod "client-a-hm8wr": Phase="Pending", Reason="", readiness=false. Elapsed: 8.403578ms
Feb 20 18:40:17.075: INFO: Pod "client-a-hm8wr": Phase="Pending", Reason="", readiness=false. Elapsed: 2.016558561s
Feb 20 18:40:19.080: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 4.021987331s
Feb 20 18:40:21.085: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 6.026897648s
Feb 20 18:40:23.091: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 8.032606979s
Feb 20 18:40:25.095: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 10.03725656s
Feb 20 18:40:27.107: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 12.04917891s
Feb 20 18:40:29.113: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 14.054639818s
Feb 20 18:40:31.119: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 16.060915715s
Feb 20 18:40:33.124: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 18.065701464s
Feb 20 18:40:35.134: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 20.075627155s
Feb 20 18:40:37.162: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 22.103368832s
Feb 20 18:40:39.172: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 24.114129426s
Feb 20 18:40:41.178: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 26.12010728s
Feb 20 18:40:43.183: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 28.125071786s
Feb 20 18:40:45.206: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 30.147470019s
Feb 20 18:40:47.395: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 32.336221262s
Feb 20 18:40:49.410: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 34.35192292s
Feb 20 18:40:51.420: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 36.361670597s
Feb 20 18:40:53.431: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 38.372442009s
Feb 20 18:40:55.439: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 40.380627252s
Feb 20 18:40:57.454: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 42.396196221s
Feb 20 18:40:59.462: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 44.403764758s
Feb 20 18:41:01.471: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 46.413295238s
Feb 20 18:41:03.478: INFO: Pod "client-a-hm8wr": Phase="Running", Reason="", readiness=true. Elapsed: 48.419692407s
Feb 20 18:41:05.486: INFO: Pod "client-a-hm8wr": Phase="Failed", Reason="", readiness=false. Elapsed: 50.427811835s
[1mSTEP[0m: Cleaning up the pod client-a-hm8wr
[1mSTEP[0m: Updating a network policy for the Service which allows traffic from another pod at another port.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:41:05.632: INFO: Waiting for client-b-wlf98 to complete.
Feb 20 18:41:05.632: INFO: Waiting up to 5m0s for pod "client-b-wlf98" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:41:05.643: INFO: Pod "client-b-wlf98": Phase="Pending", Reason="", readiness=false. Elapsed: 10.171827ms
Feb 20 18:41:07.650: INFO: Pod "client-b-wlf98": Phase="Pending", Reason="", readiness=false. Elapsed: 2.017683635s
Feb 20 18:41:09.654: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 4.021967015s
Feb 20 18:41:11.661: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 6.028251401s
Feb 20 18:41:13.665: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 8.032971788s
Feb 20 18:41:15.672: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 10.039243027s
Feb 20 18:41:17.677: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 12.044805907s
Feb 20 18:41:19.682: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 14.049591299s
Feb 20 18:41:21.688: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 16.056048438s
Feb 20 18:41:23.696: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 18.063973607s
Feb 20 18:41:25.701: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 20.06834672s
Feb 20 18:41:27.710: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 22.077900942s
Feb 20 18:41:29.717: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 24.08483751s
Feb 20 18:41:31.722: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 26.089698317s
Feb 20 18:41:33.727: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 28.094381452s
Feb 20 18:41:35.733: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 30.10019461s
Feb 20 18:41:37.744: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 32.11114658s
Feb 20 18:41:39.749: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 34.116924969s
Feb 20 18:41:41.757: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 36.124125829s
Feb 20 18:41:43.762: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 38.129346967s
Feb 20 18:41:45.801: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 40.168512847s
Feb 20 18:41:47.826: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 42.193468464s
Feb 20 18:41:49.834: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 44.201526793s
Feb 20 18:41:51.843: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 46.210280195s
Feb 20 18:41:53.848: INFO: Pod "client-b-wlf98": Phase="Running", Reason="", readiness=true. Elapsed: 48.215481368s
Feb 20 18:41:55.857: INFO: Pod "client-b-wlf98": Phase="Failed", Reason="", readiness=false. Elapsed: 50.224273856s
[1mSTEP[0m: Cleaning up the pod client-b-wlf98
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:41:55.987: INFO: Waiting for client-a-v6jwc to complete.
Feb 20 18:41:55.987: INFO: Waiting up to 5m0s for pod "client-a-v6jwc" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:41:55.992: INFO: Pod "client-a-v6jwc": Phase="Pending", Reason="", readiness=false. Elapsed: 5.269159ms
Feb 20 18:41:58.004: INFO: Pod "client-a-v6jwc": Phase="Pending", Reason="", readiness=false. Elapsed: 2.01714195s
Feb 20 18:42:00.010: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 4.022826868s
Feb 20 18:42:02.017: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 6.029623124s
Feb 20 18:42:04.021: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 8.034050514s
Feb 20 18:42:06.031: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 10.043537671s
Feb 20 18:42:08.047: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 12.059698424s
Feb 20 18:42:10.054: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 14.06668263s
Feb 20 18:42:12.074: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 16.087262218s
Feb 20 18:42:14.080: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 18.09324627s
Feb 20 18:42:16.085: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 20.0982548s
Feb 20 18:42:18.102: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 22.115282934s
Feb 20 18:42:20.109: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 24.121959048s
Feb 20 18:42:22.115: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 26.128457702s
Feb 20 18:42:24.121: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 28.133485248s
Feb 20 18:42:26.126: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 30.138981727s
Feb 20 18:42:28.137: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 32.150451101s
Feb 20 18:42:30.143: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 34.156428065s
Feb 20 18:42:32.149: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 36.161784675s
Feb 20 18:42:34.154: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 38.166622779s
Feb 20 18:42:36.159: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 40.171527515s
Feb 20 18:42:38.171: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 42.1836427s
Feb 20 18:42:40.180: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 44.192501978s
Feb 20 18:42:42.185: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 46.198194003s
Feb 20 18:42:44.190: INFO: Pod "client-a-v6jwc": Phase="Running", Reason="", readiness=true. Elapsed: 48.203325236s
Feb 20 18:42:46.197: INFO: Pod "client-a-v6jwc": Phase="Failed", Reason="", readiness=false. Elapsed: 50.21027155s
[1mSTEP[0m: Cleaning up the pod client-a-v6jwc
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:42:46.271: INFO: Waiting for client-b-whmqd to complete.
Feb 20 18:42:50.308: INFO: Waiting for client-b-whmqd to complete.
Feb 20 18:42:50.308: INFO: Waiting up to 5m0s for pod "client-b-whmqd" in namespace "network-policy-4433" to be "Succeeded or Failed"
Feb 20 18:42:50.315: INFO: Pod "client-b-whmqd": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.205625ms
[1mSTEP[0m: Saw pod success
Feb 20 18:42:50.315: INFO: Pod "client-b-whmqd" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-whmqd
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:42:50.561: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4433" for this suite.

[32m• [SLOW TEST:222.382 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce updated policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce updated policy [Feature:NetworkPolicy]","total":26,"completed":7,"skipped":1855,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:42:50.704: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-6487
Feb 20 18:42:50.904: INFO: Created pod server-cgpzh
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-6487
Feb 20 18:42:50.959: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:42:50.987: INFO: The status of Pod server-cgpzh is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:42:52.994: INFO: The status of Pod server-cgpzh is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:42:54.994: INFO: The status of Pod server-cgpzh is Running (Ready = false)
Feb 20 18:42:56.994: INFO: The status of Pod server-cgpzh is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:42:57.003: INFO: Waiting for client-can-connect-80-m8g7v to complete.
Feb 20 18:43:01.026: INFO: Waiting for client-can-connect-80-m8g7v to complete.
Feb 20 18:43:01.026: INFO: Waiting up to 5m0s for pod "client-can-connect-80-m8g7v" in namespace "network-policy-6487" to be "Succeeded or Failed"
Feb 20 18:43:01.037: INFO: Pod "client-can-connect-80-m8g7v": Phase="Succeeded", Reason="", readiness=false. Elapsed: 10.646ms
[1mSTEP[0m: Saw pod success
Feb 20 18:43:01.037: INFO: Pod "client-can-connect-80-m8g7v" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-m8g7v
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:43:01.085: INFO: Waiting for client-can-connect-81-gmnzh to complete.
Feb 20 18:43:05.110: INFO: Waiting for client-can-connect-81-gmnzh to complete.
Feb 20 18:43:05.110: INFO: Waiting up to 5m0s for pod "client-can-connect-81-gmnzh" in namespace "network-policy-6487" to be "Succeeded or Failed"
Feb 20 18:43:05.113: INFO: Pod "client-can-connect-81-gmnzh": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.832726ms
[1mSTEP[0m: Saw pod success
Feb 20 18:43:05.113: INFO: Pod "client-can-connect-81-gmnzh" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-gmnzh
[It] should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243
[1mSTEP[0m: Creating a network policy for the server which allows traffic from ns different than namespace-a.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:43:05.818: INFO: Waiting for client-a-t2vn6 to complete.
Feb 20 18:43:05.818: INFO: Waiting up to 5m0s for pod "client-a-t2vn6" in namespace "network-policy-c-3597" to be "Succeeded or Failed"
Feb 20 18:43:05.836: INFO: Pod "client-a-t2vn6": Phase="Pending", Reason="", readiness=false. Elapsed: 18.456046ms
Feb 20 18:43:07.844: INFO: Pod "client-a-t2vn6": Phase="Pending", Reason="", readiness=false. Elapsed: 2.025761452s
Feb 20 18:43:09.850: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 4.031639595s
Feb 20 18:43:11.854: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 6.036296654s
Feb 20 18:43:13.859: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 8.04125251s
Feb 20 18:43:15.867: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 10.049368315s
Feb 20 18:43:17.872: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 12.054511729s
Feb 20 18:43:19.877: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 14.058632386s
Feb 20 18:43:21.881: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 16.06331138s
Feb 20 18:43:23.887: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 18.068676078s
Feb 20 18:43:25.891: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 20.07277307s
Feb 20 18:43:27.898: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 22.079708941s
Feb 20 18:43:29.902: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 24.084017182s
Feb 20 18:43:31.908: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 26.090330968s
Feb 20 18:43:33.913: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 28.095248561s
Feb 20 18:43:35.917: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 30.099509428s
Feb 20 18:43:37.929: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 32.110697784s
Feb 20 18:43:39.936: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 34.117579298s
Feb 20 18:43:41.941: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 36.123112134s
Feb 20 18:43:43.945: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 38.12748034s
Feb 20 18:43:45.951: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 40.132920837s
Feb 20 18:43:47.959: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 42.14156157s
Feb 20 18:43:49.994: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 44.17618903s
Feb 20 18:43:52.003: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 46.184835493s
Feb 20 18:43:54.010: INFO: Pod "client-a-t2vn6": Phase="Running", Reason="", readiness=true. Elapsed: 48.192338025s
Feb 20 18:43:56.016: INFO: Pod "client-a-t2vn6": Phase="Failed", Reason="", readiness=false. Elapsed: 50.198404608s
[1mSTEP[0m: Cleaning up the pod client-a-t2vn6
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:43:56.080: INFO: Waiting for client-a-7kk5k to complete.
Feb 20 18:44:00.100: INFO: Waiting for client-a-7kk5k to complete.
Feb 20 18:44:00.101: INFO: Waiting up to 5m0s for pod "client-a-7kk5k" in namespace "network-policy-b-9102" to be "Succeeded or Failed"
Feb 20 18:44:00.105: INFO: Pod "client-a-7kk5k": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.789631ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:00.105: INFO: Pod "client-a-7kk5k" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-7kk5k
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:44:00.300: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-6487" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-9102" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-c-3597" for this suite.

[32m• [SLOW TEST:69.686 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]","total":26,"completed":8,"skipped":2261,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:44:00.424: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5993
Feb 20 18:44:00.554: INFO: Created pod server-j6fxt
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5993
Feb 20 18:44:00.625: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:44:00.664: INFO: The status of Pod server-j6fxt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:44:02.670: INFO: The status of Pod server-j6fxt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:44:04.670: INFO: The status of Pod server-j6fxt is Running (Ready = false)
Feb 20 18:44:06.680: INFO: The status of Pod server-j6fxt is Running (Ready = false)
Feb 20 18:44:08.671: INFO: The status of Pod server-j6fxt is Running (Ready = false)
Feb 20 18:44:10.670: INFO: The status of Pod server-j6fxt is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:44:10.687: INFO: Waiting for client-can-connect-80-vwqb9 to complete.
Feb 20 18:44:14.724: INFO: Waiting for client-can-connect-80-vwqb9 to complete.
Feb 20 18:44:14.724: INFO: Waiting up to 5m0s for pod "client-can-connect-80-vwqb9" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:44:14.727: INFO: Pod "client-can-connect-80-vwqb9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.761961ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:14.727: INFO: Pod "client-can-connect-80-vwqb9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-vwqb9
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:44:14.751: INFO: Waiting for client-can-connect-81-pdg8w to complete.
Feb 20 18:44:18.759: INFO: Waiting for client-can-connect-81-pdg8w to complete.
Feb 20 18:44:18.759: INFO: Waiting up to 5m0s for pod "client-can-connect-81-pdg8w" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:44:18.763: INFO: Pod "client-can-connect-81-pdg8w": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.509824ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:18.763: INFO: Pod "client-can-connect-81-pdg8w" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-pdg8w
[It] should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384
Feb 20 18:44:18.870: INFO: Waiting for server to come up.
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:44:18.889: INFO: Waiting for client-a-grjv6 to complete.
Feb 20 18:44:22.898: INFO: Waiting for client-a-grjv6 to complete.
Feb 20 18:44:22.898: INFO: Waiting up to 5m0s for pod "client-a-grjv6" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:44:22.902: INFO: Pod "client-a-grjv6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.728277ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:22.902: INFO: Pod "client-a-grjv6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-grjv6
[1mSTEP[0m: Creating client-b, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:44:22.941: INFO: Waiting for client-b-xgxwb to complete.
Feb 20 18:44:26.970: INFO: Waiting for client-b-xgxwb to complete.
Feb 20 18:44:26.971: INFO: Waiting up to 5m0s for pod "client-b-xgxwb" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:44:26.977: INFO: Pod "client-b-xgxwb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.748261ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:26.977: INFO: Pod "client-b-xgxwb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-xgxwb
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:44:27.058: INFO: Waiting for client-a-pqlb5 to complete.
Feb 20 18:44:31.084: INFO: Waiting for client-a-pqlb5 to complete.
Feb 20 18:44:31.084: INFO: Waiting up to 5m0s for pod "client-a-pqlb5" in namespace "network-policy-b-7206" to be "Succeeded or Failed"
Feb 20 18:44:31.088: INFO: Pod "client-a-pqlb5": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.785637ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:31.088: INFO: Pod "client-a-pqlb5" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-pqlb5
[1mSTEP[0m: Creating client-b, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:44:31.131: INFO: Waiting for client-b-b4fcg to complete.
Feb 20 18:44:35.142: INFO: Waiting for client-b-b4fcg to complete.
Feb 20 18:44:35.142: INFO: Waiting up to 5m0s for pod "client-b-b4fcg" in namespace "network-policy-b-7206" to be "Succeeded or Failed"
Feb 20 18:44:35.145: INFO: Pod "client-b-b4fcg": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.754811ms
[1mSTEP[0m: Saw pod success
Feb 20 18:44:35.145: INFO: Pod "client-b-b4fcg" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-b4fcg
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-a in namespace-b.
[1mSTEP[0m: Creating client-a, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:44:35.217: INFO: Waiting for client-a-tp8ml to complete.
Feb 20 18:44:35.217: INFO: Waiting up to 5m0s for pod "client-a-tp8ml" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:44:35.229: INFO: Pod "client-a-tp8ml": Phase="Pending", Reason="", readiness=false. Elapsed: 11.826586ms
Feb 20 18:44:37.237: INFO: Pod "client-a-tp8ml": Phase="Pending", Reason="", readiness=false. Elapsed: 2.020161593s
Feb 20 18:44:39.244: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 4.02671168s
Feb 20 18:44:41.365: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 6.147768458s
Feb 20 18:44:43.370: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 8.15301829s
Feb 20 18:44:45.375: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 10.157836884s
Feb 20 18:44:47.401: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 12.183476387s
Feb 20 18:44:49.407: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 14.189626968s
Feb 20 18:44:51.413: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 16.195327119s
Feb 20 18:44:53.420: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 18.202510287s
Feb 20 18:44:55.426: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 20.208557907s
Feb 20 18:44:57.436: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 22.218347129s
Feb 20 18:44:59.442: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 24.225036857s
Feb 20 18:45:01.449: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 26.232022595s
Feb 20 18:45:03.455: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 28.237499711s
Feb 20 18:45:05.462: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 30.244370578s
Feb 20 18:45:07.470: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 32.253308913s
Feb 20 18:45:09.476: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 34.258680549s
Feb 20 18:45:11.481: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 36.263789985s
Feb 20 18:45:13.486: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 38.268396295s
Feb 20 18:45:15.491: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 40.273919972s
Feb 20 18:45:17.499: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 42.282188792s
Feb 20 18:45:19.508: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 44.290410838s
Feb 20 18:45:21.514: INFO: Pod "client-a-tp8ml": Phase="Running", Reason="", readiness=true. Elapsed: 46.29698831s
Feb 20 18:45:23.520: INFO: Pod "client-a-tp8ml": Phase="Failed", Reason="", readiness=false. Elapsed: 48.302440043s
[1mSTEP[0m: Cleaning up the pod client-a-tp8ml
[1mSTEP[0m: Creating client-b, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:45:23.616: INFO: Waiting for client-b-dlh5g to complete.
Feb 20 18:45:23.616: INFO: Waiting up to 5m0s for pod "client-b-dlh5g" in namespace "network-policy-5993" to be "Succeeded or Failed"
Feb 20 18:45:23.647: INFO: Pod "client-b-dlh5g": Phase="Pending", Reason="", readiness=false. Elapsed: 30.253391ms
Feb 20 18:45:25.652: INFO: Pod "client-b-dlh5g": Phase="Pending", Reason="", readiness=false. Elapsed: 2.035794019s
Feb 20 18:45:27.658: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 4.04154413s
Feb 20 18:45:29.664: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 6.047917341s
Feb 20 18:45:31.670: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 8.054143574s
Feb 20 18:45:33.676: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 10.059976424s
Feb 20 18:45:35.682: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 12.066114726s
Feb 20 18:45:37.690: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 14.07376323s
Feb 20 18:45:39.696: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 16.079925092s
Feb 20 18:45:41.702: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 18.085506103s
Feb 20 18:45:43.708: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 20.091834449s
Feb 20 18:45:45.716: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 22.099365195s
Feb 20 18:45:47.727: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 24.110419763s
Feb 20 18:45:49.734: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 26.117559822s
Feb 20 18:45:51.742: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 28.12565935s
Feb 20 18:45:53.755: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 30.138897242s
Feb 20 18:45:55.762: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 32.145804392s
Feb 20 18:45:57.771: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 34.154815882s
Feb 20 18:45:59.778: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 36.161255447s
Feb 20 18:46:01.786: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 38.169522042s
Feb 20 18:46:03.793: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 40.176831408s
Feb 20 18:46:05.798: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 42.182120332s
Feb 20 18:46:07.810: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 44.193883101s
Feb 20 18:46:09.817: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 46.200373708s
Feb 20 18:46:11.821: INFO: Pod "client-b-dlh5g": Phase="Running", Reason="", readiness=true. Elapsed: 48.205214021s
Feb 20 18:46:13.827: INFO: Pod "client-b-dlh5g": Phase="Failed", Reason="", readiness=false. Elapsed: 50.210329966s
[1mSTEP[0m: Cleaning up the pod client-b-dlh5g
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:46:13.912: INFO: Waiting for client-a-2rtxv to complete.
Feb 20 18:46:19.946: INFO: Waiting for client-a-2rtxv to complete.
Feb 20 18:46:19.946: INFO: Waiting up to 5m0s for pod "client-a-2rtxv" in namespace "network-policy-b-7206" to be "Succeeded or Failed"
Feb 20 18:46:19.953: INFO: Pod "client-a-2rtxv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.599666ms
[1mSTEP[0m: Saw pod success
Feb 20 18:46:19.953: INFO: Pod "client-a-2rtxv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-2rtxv
[1mSTEP[0m: Creating client-b, not in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:46:20.005: INFO: Waiting for client-b-m7h9z to complete.
Feb 20 18:46:20.005: INFO: Waiting up to 5m0s for pod "client-b-m7h9z" in namespace "network-policy-b-7206" to be "Succeeded or Failed"
Feb 20 18:46:20.015: INFO: Pod "client-b-m7h9z": Phase="Pending", Reason="", readiness=false. Elapsed: 9.783046ms
Feb 20 18:46:22.021: INFO: Pod "client-b-m7h9z": Phase="Pending", Reason="", readiness=false. Elapsed: 2.015445179s
Feb 20 18:46:24.027: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 4.021253601s
Feb 20 18:46:26.033: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 6.027488992s
Feb 20 18:46:28.044: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 8.038723744s
Feb 20 18:46:30.050: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 10.044140242s
Feb 20 18:46:32.059: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 12.053284145s
Feb 20 18:46:34.063: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 14.05773784s
Feb 20 18:46:36.080: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 16.074727715s
Feb 20 18:46:38.101: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 18.095075983s
Feb 20 18:46:40.113: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 20.107052728s
Feb 20 18:46:42.118: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 22.112843798s
Feb 20 18:46:44.125: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 24.11979294s
Feb 20 18:46:46.131: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 26.125492739s
Feb 20 18:46:48.141: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 28.135961863s
Feb 20 18:46:50.147: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 30.141940706s
Feb 20 18:46:52.153: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 32.147385722s
Feb 20 18:46:54.158: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 34.152756817s
Feb 20 18:46:56.167: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 36.161690718s
Feb 20 18:46:58.185: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 38.179683295s
Feb 20 18:47:00.191: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 40.18598861s
Feb 20 18:47:02.196: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 42.190907413s
Feb 20 18:47:04.202: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 44.196777109s
Feb 20 18:47:06.209: INFO: Pod "client-b-m7h9z": Phase="Running", Reason="", readiness=true. Elapsed: 46.203414418s
Feb 20 18:47:08.229: INFO: Pod "client-b-m7h9z": Phase="Failed", Reason="", readiness=false. Elapsed: 48.223721541s
[1mSTEP[0m: Cleaning up the pod client-b-m7h9z
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:47:08.661: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5993" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-7206" for this suite.

[32m• [SLOW TEST:188.303 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":9,"skipped":2381,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from updated pod [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:47:08.803: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7614
Feb 20 18:47:09.051: INFO: Created pod server-mqvd7
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7614
Feb 20 18:47:09.111: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:47:09.122: INFO: The status of Pod server-mqvd7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:47:11.132: INFO: The status of Pod server-mqvd7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:47:13.128: INFO: The status of Pod server-mqvd7 is Running (Ready = false)
Feb 20 18:47:15.129: INFO: The status of Pod server-mqvd7 is Running (Ready = false)
Feb 20 18:47:17.132: INFO: The status of Pod server-mqvd7 is Running (Ready = false)
Feb 20 18:47:19.128: INFO: The status of Pod server-mqvd7 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:47:19.149: INFO: Waiting for client-can-connect-80-kdkv5 to complete.
Feb 20 18:47:23.175: INFO: Waiting for client-can-connect-80-kdkv5 to complete.
Feb 20 18:47:23.175: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kdkv5" in namespace "network-policy-7614" to be "Succeeded or Failed"
Feb 20 18:47:23.179: INFO: Pod "client-can-connect-80-kdkv5": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.265796ms
[1mSTEP[0m: Saw pod success
Feb 20 18:47:23.179: INFO: Pod "client-can-connect-80-kdkv5" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kdkv5
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:47:23.217: INFO: Waiting for client-can-connect-81-7trsv to complete.
Feb 20 18:47:27.242: INFO: Waiting for client-can-connect-81-7trsv to complete.
Feb 20 18:47:27.242: INFO: Waiting up to 5m0s for pod "client-can-connect-81-7trsv" in namespace "network-policy-7614" to be "Succeeded or Failed"
Feb 20 18:47:27.251: INFO: Pod "client-can-connect-81-7trsv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 8.51148ms
[1mSTEP[0m: Saw pod success
Feb 20 18:47:27.251: INFO: Pod "client-can-connect-81-7trsv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-7trsv
[It] should allow ingress access from updated pod [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-a-updated.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:47:27.349: INFO: Waiting up to 5m0s for pod "client-a-ccjx7" in namespace "network-policy-7614" to be "terminated"
Feb 20 18:47:27.368: INFO: Pod "client-a-ccjx7": Phase="Pending", Reason="", readiness=false. Elapsed: 18.724838ms
Feb 20 18:47:29.374: INFO: Pod "client-a-ccjx7": Phase="Pending", Reason="", readiness=false. Elapsed: 2.024994636s
Feb 20 18:47:31.380: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 4.030178702s
Feb 20 18:47:33.384: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 6.034479823s
Feb 20 18:47:35.388: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 8.038711904s
Feb 20 18:47:37.394: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 10.045018526s
Feb 20 18:47:39.400: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 12.050608972s
Feb 20 18:47:41.405: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 14.055595536s
Feb 20 18:47:43.412: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 16.062806146s
Feb 20 18:47:45.418: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 18.068231634s
Feb 20 18:47:47.427: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 20.077988081s
Feb 20 18:47:49.435: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 22.08594602s
Feb 20 18:47:51.441: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 24.09132049s
Feb 20 18:47:53.446: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 26.097090027s
Feb 20 18:47:55.451: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 28.101777109s
Feb 20 18:47:57.561: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 30.211168646s
Feb 20 18:47:59.574: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 32.224622254s
Feb 20 18:48:01.582: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 34.232670588s
Feb 20 18:48:03.590: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 36.240434425s
Feb 20 18:48:05.599: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 38.249259172s
Feb 20 18:48:07.610: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 40.260304532s
Feb 20 18:48:09.620: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 42.270451273s
Feb 20 18:48:11.630: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 44.280716307s
Feb 20 18:48:13.637: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=true. Elapsed: 46.28778977s
Feb 20 18:48:15.645: INFO: Pod "client-a-ccjx7": Phase="Running", Reason="", readiness=false. Elapsed: 48.295381231s
[1mSTEP[0m: Updating client pod client-a-ccjx7 that should successfully connect to svc-server.
Feb 20 18:48:15.694: INFO: Waiting for client-a-ccjx7 to complete.
Feb 20 18:48:17.728: INFO: Waiting for client-a-ccjx7 to complete.
Feb 20 18:48:17.728: INFO: Waiting up to 5m0s for pod "client-a-ccjx7" in namespace "network-policy-7614" to be "Succeeded or Failed"
Feb 20 18:48:17.738: INFO: Pod "client-a-ccjx7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.910685ms
[1mSTEP[0m: Saw pod success
Feb 20 18:48:17.738: INFO: Pod "client-a-ccjx7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-ccjx7
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:48:17.970: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7614" for this suite.

[32m• [SLOW TEST:69.239 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from updated pod [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from updated pod [Feature:NetworkPolicy]","total":26,"completed":10,"skipped":2597,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow egress access to server in CIDR block [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:48:18.068: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8022
Feb 20 18:48:18.319: INFO: Created pod server-bdb7c
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8022
Feb 20 18:48:18.470: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:48:18.545: INFO: The status of Pod server-bdb7c is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:48:20.553: INFO: The status of Pod server-bdb7c is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:48:22.553: INFO: The status of Pod server-bdb7c is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:48:24.550: INFO: The status of Pod server-bdb7c is Running (Ready = false)
Feb 20 18:48:26.559: INFO: The status of Pod server-bdb7c is Running (Ready = false)
Feb 20 18:48:28.553: INFO: The status of Pod server-bdb7c is Running (Ready = false)
Feb 20 18:48:30.552: INFO: The status of Pod server-bdb7c is Running (Ready = false)
Feb 20 18:48:32.550: INFO: The status of Pod server-bdb7c is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:48:32.561: INFO: Waiting for client-can-connect-80-454hc to complete.
Feb 20 18:48:36.583: INFO: Waiting for client-can-connect-80-454hc to complete.
Feb 20 18:48:36.583: INFO: Waiting up to 5m0s for pod "client-can-connect-80-454hc" in namespace "network-policy-8022" to be "Succeeded or Failed"
Feb 20 18:48:36.591: INFO: Pod "client-can-connect-80-454hc": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.218608ms
[1mSTEP[0m: Saw pod success
Feb 20 18:48:36.591: INFO: Pod "client-can-connect-80-454hc" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-454hc
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:48:36.642: INFO: Waiting for client-can-connect-81-vvkdh to complete.
Feb 20 18:48:40.658: INFO: Waiting for client-can-connect-81-vvkdh to complete.
Feb 20 18:48:40.658: INFO: Waiting up to 5m0s for pod "client-can-connect-81-vvkdh" in namespace "network-policy-8022" to be "Succeeded or Failed"
Feb 20 18:48:40.664: INFO: Pod "client-can-connect-81-vvkdh": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.545508ms
[1mSTEP[0m: Saw pod success
Feb 20 18:48:40.664: INFO: Pod "client-can-connect-81-vvkdh" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-vvkdh
[It] should allow egress access to server in CIDR block [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229
[1mSTEP[0m: Creating a server pod pod-b in namespace network-policy-8022
Feb 20 18:48:40.776: INFO: Created pod pod-b-q2lm9
[1mSTEP[0m: Creating a service svc-pod-b for pod pod-b in namespace network-policy-8022
Feb 20 18:48:40.923: INFO: Created service svc-pod-b
[1mSTEP[0m: Waiting for pod-b to be ready
Feb 20 18:48:40.946: INFO: The status of Pod pod-b-q2lm9 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:48:42.952: INFO: The status of Pod pod-b-q2lm9 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:48:44.954: INFO: The status of Pod pod-b-q2lm9 is Running (Ready = false)
Feb 20 18:48:46.953: INFO: The status of Pod pod-b-q2lm9 is Running (Ready = false)
Feb 20 18:48:48.954: INFO: The status of Pod pod-b-q2lm9 is Running (Ready = false)
Feb 20 18:48:50.951: INFO: The status of Pod pod-b-q2lm9 is Running (Ready = false)
Feb 20 18:48:52.953: INFO: The status of Pod pod-b-q2lm9 is Running (Ready = true)
[1mSTEP[0m: Creating client-a which should be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-pod-b.
Feb 20 18:48:52.985: INFO: Waiting for client-a-bkzg2 to complete.
Feb 20 18:48:57.005: INFO: Waiting for client-a-bkzg2 to complete.
Feb 20 18:48:57.005: INFO: Waiting up to 5m0s for pod "client-a-bkzg2" in namespace "network-policy-8022" to be "Succeeded or Failed"
Feb 20 18:48:57.014: INFO: Pod "client-a-bkzg2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 8.22094ms
[1mSTEP[0m: Saw pod success
Feb 20 18:48:57.014: INFO: Pod "client-a-bkzg2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-bkzg2
[1mSTEP[0m: Creating client-a which should not be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-pod-b.
Feb 20 18:48:57.127: INFO: Waiting for client-a-fx5jl to complete.
Feb 20 18:48:57.127: INFO: Waiting up to 5m0s for pod "client-a-fx5jl" in namespace "network-policy-8022" to be "Succeeded or Failed"
Feb 20 18:48:57.159: INFO: Pod "client-a-fx5jl": Phase="Pending", Reason="", readiness=false. Elapsed: 31.042069ms
Feb 20 18:48:59.173: INFO: Pod "client-a-fx5jl": Phase="Pending", Reason="", readiness=false. Elapsed: 2.045101376s
Feb 20 18:49:01.182: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 4.054707559s
Feb 20 18:49:03.189: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 6.061894073s
Feb 20 18:49:05.197: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 8.069089967s
Feb 20 18:49:07.206: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 10.07808892s
Feb 20 18:49:09.218: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 12.090379554s
Feb 20 18:49:11.225: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 14.097400703s
Feb 20 18:49:13.240: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 16.112003349s
Feb 20 18:49:15.245: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 18.117900931s
Feb 20 18:49:17.260: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 20.132547735s
Feb 20 18:49:19.267: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 22.13919311s
Feb 20 18:49:21.273: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 24.145504744s
Feb 20 18:49:23.281: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 26.153713283s
Feb 20 18:49:25.287: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 28.159556624s
Feb 20 18:49:27.299: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 30.171021686s
Feb 20 18:49:29.308: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 32.180335552s
Feb 20 18:49:31.314: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 34.18624859s
Feb 20 18:49:33.320: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 36.192753145s
Feb 20 18:49:35.326: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 38.198909309s
Feb 20 18:49:37.338: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 40.209930434s
Feb 20 18:49:39.343: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 42.215330076s
Feb 20 18:49:41.352: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 44.224528982s
Feb 20 18:49:43.357: INFO: Pod "client-a-fx5jl": Phase="Running", Reason="", readiness=true. Elapsed: 46.229632921s
Feb 20 18:49:45.365: INFO: Pod "client-a-fx5jl": Phase="Failed", Reason="", readiness=false. Elapsed: 48.237836073s
[1mSTEP[0m: Cleaning up the pod client-a-fx5jl
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:49:45.470: INFO: Waiting for client-a-pvv57 to complete.
Feb 20 18:49:49.520: INFO: Waiting for client-a-pvv57 to complete.
Feb 20 18:49:49.520: INFO: Waiting up to 5m0s for pod "client-a-pvv57" in namespace "network-policy-8022" to be "Succeeded or Failed"
Feb 20 18:49:49.524: INFO: Pod "client-a-pvv57": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.663464ms
[1mSTEP[0m: Saw pod success
Feb 20 18:49:49.524: INFO: Pod "client-a-pvv57" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-pvv57
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:49:49.859: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8022" for this suite.

[32m• [SLOW TEST:91.831 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow egress access to server in CIDR block [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow egress access to server in CIDR block [Feature:NetworkPolicy]","total":26,"completed":11,"skipped":2638,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on Ports [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:49:49.988: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5851
Feb 20 18:49:50.195: INFO: Created pod server-4msj6
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5851
Feb 20 18:49:50.241: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:49:50.265: INFO: The status of Pod server-4msj6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:49:52.270: INFO: The status of Pod server-4msj6 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:49:54.271: INFO: The status of Pod server-4msj6 is Running (Ready = false)
Feb 20 18:49:56.272: INFO: The status of Pod server-4msj6 is Running (Ready = false)
Feb 20 18:49:58.275: INFO: The status of Pod server-4msj6 is Running (Ready = false)
Feb 20 18:50:00.287: INFO: The status of Pod server-4msj6 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:50:00.303: INFO: Waiting for client-can-connect-80-rq6k4 to complete.
Feb 20 18:50:04.347: INFO: Waiting for client-can-connect-80-rq6k4 to complete.
Feb 20 18:50:04.347: INFO: Waiting up to 5m0s for pod "client-can-connect-80-rq6k4" in namespace "network-policy-5851" to be "Succeeded or Failed"
Feb 20 18:50:04.356: INFO: Pod "client-can-connect-80-rq6k4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.238406ms
[1mSTEP[0m: Saw pod success
Feb 20 18:50:04.357: INFO: Pod "client-can-connect-80-rq6k4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-rq6k4
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:50:04.416: INFO: Waiting for client-can-connect-81-r4qqn to complete.
Feb 20 18:50:08.443: INFO: Waiting for client-can-connect-81-r4qqn to complete.
Feb 20 18:50:08.443: INFO: Waiting up to 5m0s for pod "client-can-connect-81-r4qqn" in namespace "network-policy-5851" to be "Succeeded or Failed"
Feb 20 18:50:08.503: INFO: Pod "client-can-connect-81-r4qqn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 59.557626ms
[1mSTEP[0m: Saw pod success
Feb 20 18:50:08.503: INFO: Pod "client-can-connect-81-r4qqn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-r4qqn
[It] should enforce policy based on Ports [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to one port.
[1mSTEP[0m: Testing pods can connect only to the port allowed by the policy.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:50:08.662: INFO: Waiting for client-a-dfdt6 to complete.
Feb 20 18:50:08.662: INFO: Waiting up to 5m0s for pod "client-a-dfdt6" in namespace "network-policy-5851" to be "Succeeded or Failed"
Feb 20 18:50:08.693: INFO: Pod "client-a-dfdt6": Phase="Pending", Reason="", readiness=false. Elapsed: 30.758172ms
Feb 20 18:50:10.701: INFO: Pod "client-a-dfdt6": Phase="Pending", Reason="", readiness=false. Elapsed: 2.039446366s
Feb 20 18:50:12.706: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 4.044578237s
Feb 20 18:50:14.714: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 6.051892442s
Feb 20 18:50:16.724: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 8.062043313s
Feb 20 18:50:18.741: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 10.079289036s
Feb 20 18:50:20.749: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 12.086786062s
Feb 20 18:50:22.755: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 14.093624295s
Feb 20 18:50:24.761: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 16.098973568s
Feb 20 18:50:26.767: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 18.105351447s
Feb 20 18:50:28.781: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 20.119006034s
Feb 20 18:50:30.789: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 22.127575251s
Feb 20 18:50:32.795: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 24.133473013s
Feb 20 18:50:34.800: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 26.138422708s
Feb 20 18:50:36.806: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 28.144597123s
Feb 20 18:50:38.821: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 30.159111689s
Feb 20 18:50:40.828: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 32.166576566s
Feb 20 18:50:42.834: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 34.172493899s
Feb 20 18:50:44.840: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 36.178231659s
Feb 20 18:50:46.848: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 38.186535249s
Feb 20 18:50:48.857: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 40.194948725s
Feb 20 18:50:50.863: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 42.200958766s
Feb 20 18:50:52.877: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 44.215569631s
Feb 20 18:50:54.884: INFO: Pod "client-a-dfdt6": Phase="Running", Reason="", readiness=true. Elapsed: 46.22201957s
Feb 20 18:50:56.891: INFO: Pod "client-a-dfdt6": Phase="Failed", Reason="", readiness=false. Elapsed: 48.228805545s
[1mSTEP[0m: Cleaning up the pod client-a-dfdt6
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:50:57.043: INFO: Waiting for client-b-gkfpk to complete.
Feb 20 18:51:01.094: INFO: Waiting for client-b-gkfpk to complete.
Feb 20 18:51:01.094: INFO: Waiting up to 5m0s for pod "client-b-gkfpk" in namespace "network-policy-5851" to be "Succeeded or Failed"
Feb 20 18:51:01.122: INFO: Pod "client-b-gkfpk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 27.803467ms
[1mSTEP[0m: Saw pod success
Feb 20 18:51:01.122: INFO: Pod "client-b-gkfpk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-gkfpk
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:51:01.368: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5851" for this suite.

[32m• [SLOW TEST:71.490 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on Ports [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on Ports [Feature:NetworkPolicy]","total":26,"completed":12,"skipped":2750,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:51:01.496: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7132
Feb 20 18:51:01.757: INFO: Created pod server-29m86
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7132
Feb 20 18:51:01.896: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:51:01.931: INFO: The status of Pod server-29m86 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:51:03.939: INFO: The status of Pod server-29m86 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:51:05.938: INFO: The status of Pod server-29m86 is Running (Ready = false)
Feb 20 18:51:07.957: INFO: The status of Pod server-29m86 is Running (Ready = false)
Feb 20 18:51:09.945: INFO: The status of Pod server-29m86 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:51:09.960: INFO: Waiting for client-can-connect-80-bjcm9 to complete.
Feb 20 18:51:13.974: INFO: Waiting for client-can-connect-80-bjcm9 to complete.
Feb 20 18:51:13.974: INFO: Waiting up to 5m0s for pod "client-can-connect-80-bjcm9" in namespace "network-policy-7132" to be "Succeeded or Failed"
Feb 20 18:51:13.978: INFO: Pod "client-can-connect-80-bjcm9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.12132ms
[1mSTEP[0m: Saw pod success
Feb 20 18:51:13.978: INFO: Pod "client-can-connect-80-bjcm9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-bjcm9
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:51:14.043: INFO: Waiting for client-can-connect-81-2td7s to complete.
Feb 20 18:51:18.065: INFO: Waiting for client-can-connect-81-2td7s to complete.
Feb 20 18:51:18.066: INFO: Waiting up to 5m0s for pod "client-can-connect-81-2td7s" in namespace "network-policy-7132" to be "Succeeded or Failed"
Feb 20 18:51:18.070: INFO: Pod "client-can-connect-81-2td7s": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.836167ms
[1mSTEP[0m: Saw pod success
Feb 20 18:51:18.070: INFO: Pod "client-can-connect-81-2td7s" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-2td7s
[It] should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-b or namespace-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:51:18.265: INFO: Waiting for client-a-2w54j to complete.
Feb 20 18:51:24.292: INFO: Waiting for client-a-2w54j to complete.
Feb 20 18:51:24.292: INFO: Waiting up to 5m0s for pod "client-a-2w54j" in namespace "network-policy-b-2840" to be "Succeeded or Failed"
Feb 20 18:51:24.298: INFO: Pod "client-a-2w54j": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.937735ms
[1mSTEP[0m: Saw pod success
Feb 20 18:51:24.298: INFO: Pod "client-a-2w54j" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-2w54j
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:51:24.374: INFO: Waiting for client-b-2wsp4 to complete.
Feb 20 18:51:28.391: INFO: Waiting for client-b-2wsp4 to complete.
Feb 20 18:51:28.391: INFO: Waiting up to 5m0s for pod "client-b-2wsp4" in namespace "network-policy-7132" to be "Succeeded or Failed"
Feb 20 18:51:28.397: INFO: Pod "client-b-2wsp4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.898164ms
[1mSTEP[0m: Saw pod success
Feb 20 18:51:28.397: INFO: Pod "client-b-2wsp4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-2wsp4
[1mSTEP[0m: Creating client pod client-c that should not be able to connect to svc-server.
Feb 20 18:51:28.475: INFO: Waiting for client-c-f6wqk to complete.
Feb 20 18:51:28.475: INFO: Waiting up to 5m0s for pod "client-c-f6wqk" in namespace "network-policy-7132" to be "Succeeded or Failed"
Feb 20 18:51:28.496: INFO: Pod "client-c-f6wqk": Phase="Pending", Reason="", readiness=false. Elapsed: 20.974152ms
Feb 20 18:51:30.502: INFO: Pod "client-c-f6wqk": Phase="Pending", Reason="", readiness=false. Elapsed: 2.027000158s
Feb 20 18:51:32.508: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 4.03277627s
Feb 20 18:51:34.513: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 6.037509834s
Feb 20 18:51:36.519: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 8.04361729s
Feb 20 18:51:38.531: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 10.054887817s
Feb 20 18:51:40.550: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 12.074364636s
Feb 20 18:51:42.557: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 14.081616199s
Feb 20 18:51:44.562: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 16.086300561s
Feb 20 18:51:46.568: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 18.092629685s
Feb 20 18:51:48.582: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 20.106737227s
Feb 20 18:51:50.587: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 22.111178882s
Feb 20 18:51:52.592: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 24.11605909s
Feb 20 18:51:54.596: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 26.120508772s
Feb 20 18:51:56.603: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 28.127204732s
Feb 20 18:51:58.617: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 30.142036722s
Feb 20 18:52:00.637: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 32.161733052s
Feb 20 18:52:02.642: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 34.166176073s
Feb 20 18:52:04.650: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 36.174730747s
Feb 20 18:52:06.656: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 38.180879106s
Feb 20 18:52:08.669: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 40.193144s
Feb 20 18:52:10.680: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 42.204766313s
Feb 20 18:52:12.689: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 44.213413794s
Feb 20 18:52:14.697: INFO: Pod "client-c-f6wqk": Phase="Running", Reason="", readiness=true. Elapsed: 46.221342557s
Feb 20 18:52:16.707: INFO: Pod "client-c-f6wqk": Phase="Failed", Reason="", readiness=false. Elapsed: 48.231181242s
[1mSTEP[0m: Cleaning up the pod client-c-f6wqk
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:52:17.566: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7132" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-2840" for this suite.

[32m• [SLOW TEST:76.154 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":13,"skipped":2763,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould deny ingress access to updated pod [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:52:17.734: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-1562
Feb 20 18:52:17.921: INFO: Created pod server-tbtf9
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-1562
Feb 20 18:52:17.993: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:52:18.034: INFO: The status of Pod server-tbtf9 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:52:20.044: INFO: The status of Pod server-tbtf9 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:52:22.047: INFO: The status of Pod server-tbtf9 is Running (Ready = false)
Feb 20 18:52:24.042: INFO: The status of Pod server-tbtf9 is Running (Ready = false)
Feb 20 18:52:26.047: INFO: The status of Pod server-tbtf9 is Running (Ready = false)
Feb 20 18:52:28.045: INFO: The status of Pod server-tbtf9 is Running (Ready = false)
Feb 20 18:52:30.043: INFO: The status of Pod server-tbtf9 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:52:30.054: INFO: Waiting for client-can-connect-80-kfprk to complete.
Feb 20 18:52:34.068: INFO: Waiting for client-can-connect-80-kfprk to complete.
Feb 20 18:52:34.068: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kfprk" in namespace "network-policy-1562" to be "Succeeded or Failed"
Feb 20 18:52:34.073: INFO: Pod "client-can-connect-80-kfprk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.971487ms
[1mSTEP[0m: Saw pod success
Feb 20 18:52:34.073: INFO: Pod "client-can-connect-80-kfprk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kfprk
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:52:34.123: INFO: Waiting for client-can-connect-81-2hnw7 to complete.
Feb 20 18:52:38.141: INFO: Waiting for client-can-connect-81-2hnw7 to complete.
Feb 20 18:52:38.141: INFO: Waiting up to 5m0s for pod "client-can-connect-81-2hnw7" in namespace "network-policy-1562" to be "Succeeded or Failed"
Feb 20 18:52:38.146: INFO: Pod "client-can-connect-81-2hnw7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.640529ms
[1mSTEP[0m: Saw pod success
Feb 20 18:52:38.146: INFO: Pod "client-can-connect-81-2hnw7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-2hnw7
[It] should deny ingress access to updated pod [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873
[1mSTEP[0m: Creating a network policy for the server which denies all traffic.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:52:38.199: INFO: Waiting for client-a-6djz8 to complete.
Feb 20 18:52:42.227: INFO: Waiting for client-a-6djz8 to complete.
Feb 20 18:52:42.227: INFO: Waiting up to 5m0s for pod "client-a-6djz8" in namespace "network-policy-1562" to be "Succeeded or Failed"
Feb 20 18:52:42.232: INFO: Pod "client-a-6djz8": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.518268ms
[1mSTEP[0m: Saw pod success
Feb 20 18:52:42.232: INFO: Pod "client-a-6djz8" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-6djz8
[1mSTEP[0m: Updating server pod server-tbtf9 to be selected by network policy deny-ingress-via-isolated-label-selector.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:52:42.312: INFO: Waiting for client-a-f9p4j to complete.
Feb 20 18:52:42.312: INFO: Waiting up to 5m0s for pod "client-a-f9p4j" in namespace "network-policy-1562" to be "Succeeded or Failed"
Feb 20 18:52:42.320: INFO: Pod "client-a-f9p4j": Phase="Pending", Reason="", readiness=false. Elapsed: 7.955066ms
Feb 20 18:52:44.325: INFO: Pod "client-a-f9p4j": Phase="Pending", Reason="", readiness=false. Elapsed: 2.01313469s
Feb 20 18:52:46.333: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 4.020735423s
Feb 20 18:52:48.341: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 6.028827882s
Feb 20 18:52:50.350: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 8.037310334s
Feb 20 18:52:52.370: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 10.058192004s
Feb 20 18:52:54.375: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 12.063149404s
Feb 20 18:52:56.380: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 14.068160088s
Feb 20 18:52:58.389: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 16.076733914s
Feb 20 18:53:00.395: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 18.082713286s
Feb 20 18:53:02.402: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 20.089766438s
Feb 20 18:53:04.421: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 22.108826596s
Feb 20 18:53:06.429: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 24.116785687s
Feb 20 18:53:08.437: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 26.124314012s
Feb 20 18:53:10.442: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 28.130202538s
Feb 20 18:53:12.449: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 30.136226722s
Feb 20 18:53:14.454: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 32.141388483s
Feb 20 18:53:16.459: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 34.146456674s
Feb 20 18:53:18.470: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 36.157988468s
Feb 20 18:53:20.475: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 38.162515139s
Feb 20 18:53:22.481: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 40.169151133s
Feb 20 18:53:24.487: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 42.174514784s
Feb 20 18:53:26.490: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 44.177869978s
Feb 20 18:53:28.502: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 46.189318813s
Feb 20 18:53:30.508: INFO: Pod "client-a-f9p4j": Phase="Running", Reason="", readiness=true. Elapsed: 48.195434307s
Feb 20 18:53:32.513: INFO: Pod "client-a-f9p4j": Phase="Failed", Reason="", readiness=false. Elapsed: 50.200375428s
[1mSTEP[0m: Cleaning up the pod client-a-f9p4j
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:53:32.706: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-1562" for this suite.

[32m• [SLOW TEST:74.997 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should deny ingress access to updated pod [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should deny ingress access to updated pod [Feature:NetworkPolicy]","total":26,"completed":14,"skipped":2920,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould support allow-all policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:53:32.814: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5277
Feb 20 18:53:32.980: INFO: Created pod server-trnvs
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5277
Feb 20 18:53:33.033: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:53:33.070: INFO: The status of Pod server-trnvs is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:53:35.118: INFO: The status of Pod server-trnvs is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:53:37.081: INFO: The status of Pod server-trnvs is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:53:39.078: INFO: The status of Pod server-trnvs is Running (Ready = false)
Feb 20 18:53:41.077: INFO: The status of Pod server-trnvs is Running (Ready = false)
Feb 20 18:53:43.077: INFO: The status of Pod server-trnvs is Running (Ready = false)
Feb 20 18:53:45.076: INFO: The status of Pod server-trnvs is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:53:45.100: INFO: Waiting for client-can-connect-80-tqm2c to complete.
Feb 20 18:53:49.128: INFO: Waiting for client-can-connect-80-tqm2c to complete.
Feb 20 18:53:49.128: INFO: Waiting up to 5m0s for pod "client-can-connect-80-tqm2c" in namespace "network-policy-5277" to be "Succeeded or Failed"
Feb 20 18:53:49.153: INFO: Pod "client-can-connect-80-tqm2c": Phase="Succeeded", Reason="", readiness=false. Elapsed: 24.694866ms
[1mSTEP[0m: Saw pod success
Feb 20 18:53:49.153: INFO: Pod "client-can-connect-80-tqm2c" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-tqm2c
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:53:49.199: INFO: Waiting for client-can-connect-81-nqsmk to complete.
Feb 20 18:53:53.210: INFO: Waiting for client-can-connect-81-nqsmk to complete.
Feb 20 18:53:53.210: INFO: Waiting up to 5m0s for pod "client-can-connect-81-nqsmk" in namespace "network-policy-5277" to be "Succeeded or Failed"
Feb 20 18:53:53.234: INFO: Pod "client-can-connect-81-nqsmk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 23.788082ms
[1mSTEP[0m: Saw pod success
Feb 20 18:53:53.234: INFO: Pod "client-can-connect-81-nqsmk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-nqsmk
[It] should support allow-all policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544
[1mSTEP[0m: Creating a network policy which allows all traffic.
[1mSTEP[0m: Testing pods can connect to both ports when an 'allow-all' policy is present.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:53:53.290: INFO: Waiting for client-a-zdjfj to complete.
Feb 20 18:53:57.333: INFO: Waiting for client-a-zdjfj to complete.
Feb 20 18:53:57.334: INFO: Waiting up to 5m0s for pod "client-a-zdjfj" in namespace "network-policy-5277" to be "Succeeded or Failed"
Feb 20 18:53:57.339: INFO: Pod "client-a-zdjfj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.241531ms
[1mSTEP[0m: Saw pod success
Feb 20 18:53:57.339: INFO: Pod "client-a-zdjfj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-zdjfj
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:53:57.414: INFO: Waiting for client-b-wfgl7 to complete.
Feb 20 18:54:01.436: INFO: Waiting for client-b-wfgl7 to complete.
Feb 20 18:54:01.437: INFO: Waiting up to 5m0s for pod "client-b-wfgl7" in namespace "network-policy-5277" to be "Succeeded or Failed"
Feb 20 18:54:01.441: INFO: Pod "client-b-wfgl7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.590577ms
[1mSTEP[0m: Saw pod success
Feb 20 18:54:01.441: INFO: Pod "client-b-wfgl7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-wfgl7
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:54:01.630: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5277" for this suite.

[32m• [SLOW TEST:28.849 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should support allow-all policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should support allow-all policy [Feature:NetworkPolicy]","total":26,"completed":15,"skipped":3033,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:54:01.732: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-3080
Feb 20 18:54:01.897: INFO: Created pod server-2xldn
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-3080
Feb 20 18:54:01.955: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:54:01.975: INFO: The status of Pod server-2xldn is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:54:03.984: INFO: The status of Pod server-2xldn is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:54:06.005: INFO: The status of Pod server-2xldn is Running (Ready = false)
Feb 20 18:54:07.985: INFO: The status of Pod server-2xldn is Running (Ready = false)
Feb 20 18:54:09.982: INFO: The status of Pod server-2xldn is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:54:09.995: INFO: Waiting for client-can-connect-80-srhnq to complete.
Feb 20 18:54:14.022: INFO: Waiting for client-can-connect-80-srhnq to complete.
Feb 20 18:54:14.022: INFO: Waiting up to 5m0s for pod "client-can-connect-80-srhnq" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:54:14.025: INFO: Pod "client-can-connect-80-srhnq": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.374852ms
[1mSTEP[0m: Saw pod success
Feb 20 18:54:14.025: INFO: Pod "client-can-connect-80-srhnq" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-srhnq
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:54:14.053: INFO: Waiting for client-can-connect-81-fhwxx to complete.
Feb 20 18:54:18.083: INFO: Waiting for client-can-connect-81-fhwxx to complete.
Feb 20 18:54:18.084: INFO: Waiting up to 5m0s for pod "client-can-connect-81-fhwxx" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:54:18.088: INFO: Pod "client-can-connect-81-fhwxx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.250126ms
[1mSTEP[0m: Saw pod success
Feb 20 18:54:18.088: INFO: Pod "client-can-connect-81-fhwxx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-fhwxx
[It] should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-b.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:54:18.189: INFO: Waiting for client-a-mjgxh to complete.
Feb 20 18:54:18.189: INFO: Waiting up to 5m0s for pod "client-a-mjgxh" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:54:18.195: INFO: Pod "client-a-mjgxh": Phase="Pending", Reason="", readiness=false. Elapsed: 5.33722ms
Feb 20 18:54:20.201: INFO: Pod "client-a-mjgxh": Phase="Pending", Reason="", readiness=false. Elapsed: 2.011742714s
Feb 20 18:54:22.208: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 4.01838964s
Feb 20 18:54:24.213: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 6.02377236s
Feb 20 18:54:26.218: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 8.028429085s
Feb 20 18:54:28.227: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 10.037287879s
Feb 20 18:54:30.234: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 12.044683024s
Feb 20 18:54:32.240: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 14.051040609s
Feb 20 18:54:34.250: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 16.061134193s
Feb 20 18:54:36.287: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 18.097766441s
Feb 20 18:54:38.297: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 20.107644678s
Feb 20 18:54:40.304: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 22.114951398s
Feb 20 18:54:42.311: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 24.12142064s
Feb 20 18:54:44.317: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 26.127905679s
Feb 20 18:54:46.343: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 28.153707361s
Feb 20 18:54:48.350: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 30.161146179s
Feb 20 18:54:50.357: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 32.168157659s
Feb 20 18:54:52.366: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 34.176699211s
Feb 20 18:54:54.370: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 36.181119404s
Feb 20 18:54:56.375: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 38.185750161s
Feb 20 18:54:58.381: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 40.191642419s
Feb 20 18:55:00.387: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 42.197532106s
Feb 20 18:55:02.393: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 44.203473435s
Feb 20 18:55:04.399: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 46.209503313s
Feb 20 18:55:06.404: INFO: Pod "client-a-mjgxh": Phase="Running", Reason="", readiness=true. Elapsed: 48.214838323s
Feb 20 18:55:08.426: INFO: Pod "client-a-mjgxh": Phase="Failed", Reason="", readiness=false. Elapsed: 50.236231237s
[1mSTEP[0m: Cleaning up the pod client-a-mjgxh
[1mSTEP[0m: Creating client-b which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:55:08.583: INFO: Waiting for client-b-vbfj5 to complete.
Feb 20 18:55:16.608: INFO: Waiting for client-b-vbfj5 to complete.
Feb 20 18:55:16.610: INFO: Waiting up to 5m0s for pod "client-b-vbfj5" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:55:16.616: INFO: Pod "client-b-vbfj5": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.814606ms
[1mSTEP[0m: Saw pod success
Feb 20 18:55:16.616: INFO: Pod "client-b-vbfj5" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-vbfj5
[1mSTEP[0m: Creating a network policy for the server which allows traffic from all clients.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:55:16.771: INFO: Waiting for client-a-q77x4 to complete.
Feb 20 18:55:20.786: INFO: Waiting for client-a-q77x4 to complete.
Feb 20 18:55:20.787: INFO: Waiting up to 5m0s for pod "client-a-q77x4" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:55:20.791: INFO: Pod "client-a-q77x4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.226363ms
[1mSTEP[0m: Saw pod success
Feb 20 18:55:20.791: INFO: Pod "client-a-q77x4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-q77x4
[1mSTEP[0m: Creating client-b which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:55:20.850: INFO: Waiting for client-b-c997b to complete.
Feb 20 18:55:24.867: INFO: Waiting for client-b-c997b to complete.
Feb 20 18:55:24.867: INFO: Waiting up to 5m0s for pod "client-b-c997b" in namespace "network-policy-3080" to be "Succeeded or Failed"
Feb 20 18:55:24.870: INFO: Pod "client-b-c997b": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.089161ms
[1mSTEP[0m: Saw pod success
Feb 20 18:55:24.871: INFO: Pod "client-b-c997b" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-c997b
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:55:25.213: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-3080" for this suite.

[32m• [SLOW TEST:83.530 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]","total":26,"completed":16,"skipped":3186,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from namespace on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:55:25.332: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-345
Feb 20 18:55:25.540: INFO: Created pod server-f5xdt
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-345
Feb 20 18:55:25.595: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:55:25.607: INFO: The status of Pod server-f5xdt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:55:27.615: INFO: The status of Pod server-f5xdt is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:55:29.612: INFO: The status of Pod server-f5xdt is Running (Ready = false)
Feb 20 18:55:31.626: INFO: The status of Pod server-f5xdt is Running (Ready = false)
Feb 20 18:55:33.613: INFO: The status of Pod server-f5xdt is Running (Ready = false)
Feb 20 18:55:35.613: INFO: The status of Pod server-f5xdt is Running (Ready = false)
Feb 20 18:55:37.616: INFO: The status of Pod server-f5xdt is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:55:37.632: INFO: Waiting for client-can-connect-80-c8rsd to complete.
Feb 20 18:55:41.643: INFO: Waiting for client-can-connect-80-c8rsd to complete.
Feb 20 18:55:41.643: INFO: Waiting up to 5m0s for pod "client-can-connect-80-c8rsd" in namespace "network-policy-345" to be "Succeeded or Failed"
Feb 20 18:55:41.653: INFO: Pod "client-can-connect-80-c8rsd": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.72818ms
[1mSTEP[0m: Saw pod success
Feb 20 18:55:41.653: INFO: Pod "client-can-connect-80-c8rsd" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-c8rsd
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:55:41.681: INFO: Waiting for client-can-connect-81-6g2qz to complete.
Feb 20 18:55:45.715: INFO: Waiting for client-can-connect-81-6g2qz to complete.
Feb 20 18:55:45.715: INFO: Waiting up to 5m0s for pod "client-can-connect-81-6g2qz" in namespace "network-policy-345" to be "Succeeded or Failed"
Feb 20 18:55:45.718: INFO: Pod "client-can-connect-81-6g2qz": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.337658ms
[1mSTEP[0m: Saw pod success
Feb 20 18:55:45.718: INFO: Pod "client-can-connect-81-6g2qz" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-6g2qz
[It] should allow ingress access from namespace on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:55:45.830: INFO: Waiting for client-a-cdw67 to complete.
Feb 20 18:55:45.830: INFO: Waiting up to 5m0s for pod "client-a-cdw67" in namespace "network-policy-345" to be "Succeeded or Failed"
Feb 20 18:55:45.835: INFO: Pod "client-a-cdw67": Phase="Pending", Reason="", readiness=false. Elapsed: 5.060197ms
Feb 20 18:55:47.846: INFO: Pod "client-a-cdw67": Phase="Pending", Reason="", readiness=false. Elapsed: 2.015760779s
Feb 20 18:55:49.852: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 4.021684851s
Feb 20 18:55:51.858: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 6.027512697s
Feb 20 18:55:53.864: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 8.034149199s
Feb 20 18:55:55.870: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 10.040170367s
Feb 20 18:55:57.880: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 12.049207064s
Feb 20 18:55:59.886: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 14.055304087s
Feb 20 18:56:01.891: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 16.060271956s
Feb 20 18:56:03.898: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 18.067514571s
Feb 20 18:56:05.944: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 20.113898058s
Feb 20 18:56:07.956: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 22.125540015s
Feb 20 18:56:10.006: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 24.175914498s
Feb 20 18:56:12.012: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 26.181684996s
Feb 20 18:56:14.018: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 28.187417416s
Feb 20 18:56:16.026: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 30.195735277s
Feb 20 18:56:18.051: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 32.221085811s
Feb 20 18:56:20.058: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 34.227915173s
Feb 20 18:56:22.064: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 36.23354739s
Feb 20 18:56:24.069: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 38.239067434s
Feb 20 18:56:26.074: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 40.243595513s
Feb 20 18:56:28.159: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 42.329101957s
Feb 20 18:56:30.170: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 44.339685417s
Feb 20 18:56:32.176: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 46.346220895s
Feb 20 18:56:34.295: INFO: Pod "client-a-cdw67": Phase="Running", Reason="", readiness=true. Elapsed: 48.464732819s
Feb 20 18:56:36.310: INFO: Pod "client-a-cdw67": Phase="Failed", Reason="", readiness=false. Elapsed: 50.479772118s
[1mSTEP[0m: Cleaning up the pod client-a-cdw67
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:56:36.420: INFO: Waiting for client-b-tp77j to complete.
Feb 20 18:56:40.464: INFO: Waiting for client-b-tp77j to complete.
Feb 20 18:56:40.464: INFO: Waiting up to 5m0s for pod "client-b-tp77j" in namespace "network-policy-b-5491" to be "Succeeded or Failed"
Feb 20 18:56:40.468: INFO: Pod "client-b-tp77j": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.225895ms
[1mSTEP[0m: Saw pod success
Feb 20 18:56:40.468: INFO: Pod "client-b-tp77j" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-tp77j
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:56:40.686: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-345" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-5491" for this suite.

[32m• [SLOW TEST:75.456 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from namespace on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from namespace on one named port [Feature:NetworkPolicy]","total":26,"completed":17,"skipped":3366,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple stacked egress network policies with overlapping CIDRs in CIDR and Except [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:56:40.885: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-349
Feb 20 18:56:41.121: INFO: Created pod server-2kh6b
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-349
Feb 20 18:56:41.203: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:56:41.230: INFO: The status of Pod server-2kh6b is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:56:43.236: INFO: The status of Pod server-2kh6b is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:56:45.236: INFO: The status of Pod server-2kh6b is Running (Ready = false)
Feb 20 18:56:47.245: INFO: The status of Pod server-2kh6b is Running (Ready = false)
Feb 20 18:56:49.239: INFO: The status of Pod server-2kh6b is Running (Ready = false)
Feb 20 18:56:51.235: INFO: The status of Pod server-2kh6b is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:56:51.248: INFO: Waiting for client-can-connect-80-6gkct to complete.
Feb 20 18:56:55.279: INFO: Waiting for client-can-connect-80-6gkct to complete.
Feb 20 18:56:55.279: INFO: Waiting up to 5m0s for pod "client-can-connect-80-6gkct" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:56:55.283: INFO: Pod "client-can-connect-80-6gkct": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.843312ms
[1mSTEP[0m: Saw pod success
Feb 20 18:56:55.283: INFO: Pod "client-can-connect-80-6gkct" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-6gkct
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:56:55.319: INFO: Waiting for client-can-connect-81-b7nhw to complete.
Feb 20 18:56:59.330: INFO: Waiting for client-can-connect-81-b7nhw to complete.
Feb 20 18:56:59.330: INFO: Waiting up to 5m0s for pod "client-can-connect-81-b7nhw" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:56:59.335: INFO: Pod "client-can-connect-81-b7nhw": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.264868ms
[1mSTEP[0m: Saw pod success
Feb 20 18:56:59.335: INFO: Pod "client-can-connect-81-b7nhw" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-b7nhw
[It] should enforce multiple stacked egress network policies with overlapping CIDRs in CIDR and Except [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:56:59.390: INFO: Waiting for client-a-svfv2 to complete.
Feb 20 18:56:59.390: INFO: Waiting up to 5m0s for pod "client-a-svfv2" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:56:59.399: INFO: Pod "client-a-svfv2": Phase="Pending", Reason="", readiness=false. Elapsed: 9.033684ms
Feb 20 18:57:01.408: INFO: Pod "client-a-svfv2": Phase="Pending", Reason="", readiness=false. Elapsed: 2.017507117s
Feb 20 18:57:03.414: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 4.02392614s
Feb 20 18:57:05.419: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 6.028410286s
Feb 20 18:57:07.431: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 8.040705321s
Feb 20 18:57:09.443: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 10.05298745s
Feb 20 18:57:11.455: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 12.064371942s
Feb 20 18:57:13.466: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 14.076139699s
Feb 20 18:57:15.471: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 16.081083408s
Feb 20 18:57:17.543: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 18.152143539s
Feb 20 18:57:19.550: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 20.160133874s
Feb 20 18:57:21.556: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 22.165289352s
Feb 20 18:57:23.563: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 24.17310308s
Feb 20 18:57:25.570: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 26.179449282s
Feb 20 18:57:27.580: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 28.189303774s
Feb 20 18:57:29.586: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 30.196101153s
Feb 20 18:57:31.595: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 32.204254128s
Feb 20 18:57:33.600: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 34.209838872s
Feb 20 18:57:35.607: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 36.216286928s
Feb 20 18:57:37.619: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 38.228208643s
Feb 20 18:57:39.625: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 40.234691871s
Feb 20 18:57:41.632: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 42.241285841s
Feb 20 18:57:43.638: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 44.247626399s
Feb 20 18:57:45.645: INFO: Pod "client-a-svfv2": Phase="Running", Reason="", readiness=true. Elapsed: 46.25437734s
Feb 20 18:57:47.658: INFO: Pod "client-a-svfv2": Phase="Failed", Reason="", readiness=false. Elapsed: 48.268010781s
[1mSTEP[0m: Cleaning up the pod client-a-svfv2
[1mSTEP[0m: Creating client-a which should now be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:57:47.804: INFO: Waiting for client-a-j77p4 to complete.
Feb 20 18:57:51.820: INFO: Waiting for client-a-j77p4 to complete.
Feb 20 18:57:51.820: INFO: Waiting up to 5m0s for pod "client-a-j77p4" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:57:51.827: INFO: Pod "client-a-j77p4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.30161ms
[1mSTEP[0m: Saw pod success
Feb 20 18:57:51.827: INFO: Pod "client-a-j77p4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-j77p4
[1mSTEP[0m: Deleting the network policy with except podServer IP which disallows access to podServer.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should still be able to contact the server after deleting the network policy with except clause.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:57:51.899: INFO: Waiting for client-a-lqh6c to complete.
Feb 20 18:57:55.925: INFO: Waiting for client-a-lqh6c to complete.
Feb 20 18:57:55.925: INFO: Waiting up to 5m0s for pod "client-a-lqh6c" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:57:55.928: INFO: Pod "client-a-lqh6c": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.906027ms
[1mSTEP[0m: Saw pod success
Feb 20 18:57:55.929: INFO: Pod "client-a-lqh6c" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-lqh6c
[1mSTEP[0m: Creating client-a which should still be able to contact the server after recreating the network policy with except clause.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 18:57:55.966: INFO: Waiting for client-a-8xgc6 to complete.
Feb 20 18:57:59.989: INFO: Waiting for client-a-8xgc6 to complete.
Feb 20 18:57:59.990: INFO: Waiting up to 5m0s for pod "client-a-8xgc6" in namespace "network-policy-349" to be "Succeeded or Failed"
Feb 20 18:57:59.996: INFO: Pod "client-a-8xgc6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.567957ms
[1mSTEP[0m: Saw pod success
Feb 20 18:57:59.996: INFO: Pod "client-a-8xgc6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-8xgc6
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 18:58:00.221: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-349" for this suite.

[32m• [SLOW TEST:79.394 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple stacked egress network policies with overlapping CIDRs in CIDR and Except [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple stacked egress network policies with overlapping CIDRs in CIDR and Except [Feature:NetworkPolicy]","total":26,"completed":18,"skipped":3554,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 18:58:00.444: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7335
Feb 20 18:58:00.620: INFO: Created pod server-hnp2c
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7335
Feb 20 18:58:00.659: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 18:58:00.737: INFO: The status of Pod server-hnp2c is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:58:02.743: INFO: The status of Pod server-hnp2c is Pending, waiting for it to be Running (with Ready = true)
Feb 20 18:58:04.742: INFO: The status of Pod server-hnp2c is Running (Ready = false)
Feb 20 18:58:06.742: INFO: The status of Pod server-hnp2c is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 18:58:06.765: INFO: Waiting for client-can-connect-80-rrfzq to complete.
Feb 20 18:58:10.791: INFO: Waiting for client-can-connect-80-rrfzq to complete.
Feb 20 18:58:10.791: INFO: Waiting up to 5m0s for pod "client-can-connect-80-rrfzq" in namespace "network-policy-7335" to be "Succeeded or Failed"
Feb 20 18:58:10.795: INFO: Pod "client-can-connect-80-rrfzq": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.310548ms
[1mSTEP[0m: Saw pod success
Feb 20 18:58:10.795: INFO: Pod "client-can-connect-80-rrfzq" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-rrfzq
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 18:58:10.841: INFO: Waiting for client-can-connect-81-dg5wm to complete.
Feb 20 18:58:14.858: INFO: Waiting for client-can-connect-81-dg5wm to complete.
Feb 20 18:58:14.858: INFO: Waiting up to 5m0s for pod "client-can-connect-81-dg5wm" in namespace "network-policy-7335" to be "Succeeded or Failed"
Feb 20 18:58:14.863: INFO: Pod "client-can-connect-81-dg5wm": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.950189ms
[1mSTEP[0m: Saw pod success
Feb 20 18:58:14.863: INFO: Pod "client-can-connect-81-dg5wm" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-dg5wm
[It] should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-b in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 18:58:14.981: INFO: Waiting for client-a-6qc57 to complete.
Feb 20 18:58:14.981: INFO: Waiting up to 5m0s for pod "client-a-6qc57" in namespace "network-policy-b-7572" to be "Succeeded or Failed"
Feb 20 18:58:14.985: INFO: Pod "client-a-6qc57": Phase="Pending", Reason="", readiness=false. Elapsed: 3.984143ms
Feb 20 18:58:16.992: INFO: Pod "client-a-6qc57": Phase="Pending", Reason="", readiness=false. Elapsed: 2.011366331s
Feb 20 18:58:19.000: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 4.019745613s
Feb 20 18:58:21.009: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 6.028081933s
Feb 20 18:58:23.014: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 8.033722241s
Feb 20 18:58:25.019: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 10.038875954s
Feb 20 18:58:27.059: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 12.078546276s
Feb 20 18:58:29.076: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 14.095135115s
Feb 20 18:58:31.083: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 16.102797346s
Feb 20 18:58:33.089: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 18.108407616s
Feb 20 18:58:35.096: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 20.115241695s
Feb 20 18:58:37.102: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 22.121326698s
Feb 20 18:58:39.110: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 24.129744118s
Feb 20 18:58:41.116: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 26.135388213s
Feb 20 18:58:43.121: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 28.140423533s
Feb 20 18:58:45.126: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 30.145547427s
Feb 20 18:58:47.132: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 32.15147923s
Feb 20 18:58:49.143: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 34.162789485s
Feb 20 18:58:51.150: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 36.169910559s
Feb 20 18:58:53.155: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 38.1747756s
Feb 20 18:58:55.160: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 40.179430604s
Feb 20 18:58:57.166: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 42.185511347s
Feb 20 18:58:59.175: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 44.194255774s
Feb 20 18:59:01.181: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 46.200060409s
Feb 20 18:59:03.187: INFO: Pod "client-a-6qc57": Phase="Running", Reason="", readiness=true. Elapsed: 48.206191235s
Feb 20 18:59:05.194: INFO: Pod "client-a-6qc57": Phase="Failed", Reason="", readiness=false. Elapsed: 50.213023242s
[1mSTEP[0m: Cleaning up the pod client-a-6qc57
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 18:59:05.285: INFO: Waiting for client-b-5fsl9 to complete.
Feb 20 18:59:05.285: INFO: Waiting up to 5m0s for pod "client-b-5fsl9" in namespace "network-policy-7335" to be "Succeeded or Failed"
Feb 20 18:59:05.289: INFO: Pod "client-b-5fsl9": Phase="Pending", Reason="", readiness=false. Elapsed: 3.734058ms
Feb 20 18:59:07.312: INFO: Pod "client-b-5fsl9": Phase="Pending", Reason="", readiness=false. Elapsed: 2.027459757s
Feb 20 18:59:09.320: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 4.034661484s
Feb 20 18:59:11.330: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 6.045063583s
Feb 20 18:59:13.335: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 8.050057095s
Feb 20 18:59:15.357: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 10.072461658s
Feb 20 18:59:17.370: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 12.084643498s
Feb 20 18:59:19.377: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 14.091927023s
Feb 20 18:59:21.384: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 16.098781536s
Feb 20 18:59:23.388: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 18.103031392s
Feb 20 18:59:25.394: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 20.108781076s
Feb 20 18:59:27.406: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 22.120697351s
Feb 20 18:59:29.422: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 24.137442361s
Feb 20 18:59:31.457: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 26.171806321s
Feb 20 18:59:33.468: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 28.182629249s
Feb 20 18:59:35.476: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 30.191349749s
Feb 20 18:59:37.492: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 32.207285962s
Feb 20 18:59:39.499: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 34.213718675s
Feb 20 18:59:41.506: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 36.221417429s
Feb 20 18:59:43.514: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 38.22925604s
Feb 20 18:59:45.520: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 40.234978457s
Feb 20 18:59:47.531: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 42.245717586s
Feb 20 18:59:49.537: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 44.251768871s
Feb 20 18:59:51.544: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 46.258965147s
Feb 20 18:59:53.549: INFO: Pod "client-b-5fsl9": Phase="Running", Reason="", readiness=true. Elapsed: 48.264125439s
Feb 20 18:59:55.556: INFO: Pod "client-b-5fsl9": Phase="Failed", Reason="", readiness=false. Elapsed: 50.271216564s
[1mSTEP[0m: Cleaning up the pod client-b-5fsl9
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 18:59:55.636: INFO: Waiting for client-b-92rkx to complete.
Feb 20 18:59:59.659: INFO: Waiting for client-b-92rkx to complete.
Feb 20 18:59:59.660: INFO: Waiting up to 5m0s for pod "client-b-92rkx" in namespace "network-policy-b-7572" to be "Succeeded or Failed"
Feb 20 18:59:59.674: INFO: Pod "client-b-92rkx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 13.874448ms
[1mSTEP[0m: Saw pod success
Feb 20 18:59:59.674: INFO: Pod "client-b-92rkx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-92rkx
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:00:00.015: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7335" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-7572" for this suite.

[32m• [SLOW TEST:119.637 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":19,"skipped":4234,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould support a 'default-deny' policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:00:00.099: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-9888
Feb 20 19:00:00.272: INFO: Created pod server-nwsjd
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-9888
Feb 20 19:00:00.343: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:00:00.354: INFO: The status of Pod server-nwsjd is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:00:02.358: INFO: The status of Pod server-nwsjd is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:00:04.360: INFO: The status of Pod server-nwsjd is Running (Ready = false)
Feb 20 19:00:06.360: INFO: The status of Pod server-nwsjd is Running (Ready = false)
Feb 20 19:00:08.366: INFO: The status of Pod server-nwsjd is Running (Ready = false)
Feb 20 19:00:10.359: INFO: The status of Pod server-nwsjd is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:00:10.369: INFO: Waiting for client-can-connect-80-q6j9h to complete.
Feb 20 19:00:14.387: INFO: Waiting for client-can-connect-80-q6j9h to complete.
Feb 20 19:00:14.387: INFO: Waiting up to 5m0s for pod "client-can-connect-80-q6j9h" in namespace "network-policy-9888" to be "Succeeded or Failed"
Feb 20 19:00:14.398: INFO: Pod "client-can-connect-80-q6j9h": Phase="Succeeded", Reason="", readiness=false. Elapsed: 10.84614ms
[1mSTEP[0m: Saw pod success
Feb 20 19:00:14.398: INFO: Pod "client-can-connect-80-q6j9h" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-q6j9h
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:00:14.458: INFO: Waiting for client-can-connect-81-8r429 to complete.
Feb 20 19:00:18.499: INFO: Waiting for client-can-connect-81-8r429 to complete.
Feb 20 19:00:18.500: INFO: Waiting up to 5m0s for pod "client-can-connect-81-8r429" in namespace "network-policy-9888" to be "Succeeded or Failed"
Feb 20 19:00:18.506: INFO: Pod "client-can-connect-81-8r429": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.856116ms
[1mSTEP[0m: Saw pod success
Feb 20 19:00:18.506: INFO: Pod "client-can-connect-81-8r429" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-8r429
[It] should support a 'default-deny' policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80
[1mSTEP[0m: Creating client pod client-cannot-connect that should not be able to connect to svc-server.
Feb 20 19:00:18.601: INFO: Waiting for client-cannot-connect-jh7k2 to complete.
Feb 20 19:00:18.601: INFO: Waiting up to 5m0s for pod "client-cannot-connect-jh7k2" in namespace "network-policy-9888" to be "Succeeded or Failed"
Feb 20 19:00:18.610: INFO: Pod "client-cannot-connect-jh7k2": Phase="Pending", Reason="", readiness=false. Elapsed: 9.665425ms
Feb 20 19:00:20.617: INFO: Pod "client-cannot-connect-jh7k2": Phase="Pending", Reason="", readiness=false. Elapsed: 2.015882274s
Feb 20 19:00:22.623: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 4.022449153s
Feb 20 19:00:24.628: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 6.026903147s
Feb 20 19:00:26.634: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 8.033169852s
Feb 20 19:00:28.673: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 10.071879643s
Feb 20 19:00:30.683: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 12.082767869s
Feb 20 19:00:32.691: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 14.089946038s
Feb 20 19:00:34.697: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 16.096051403s
Feb 20 19:00:36.716: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 18.115832223s
Feb 20 19:00:38.768: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 20.16782925s
Feb 20 19:00:40.776: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 22.175406659s
Feb 20 19:00:42.783: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 24.182109181s
Feb 20 19:00:44.789: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 26.18829431s
Feb 20 19:00:46.795: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 28.194430816s
Feb 20 19:00:48.803: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 30.202132497s
Feb 20 19:00:50.810: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 32.20968851s
Feb 20 19:00:52.816: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 34.215309589s
Feb 20 19:00:54.821: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 36.219928163s
Feb 20 19:00:56.827: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 38.226193464s
Feb 20 19:00:58.834: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 40.233798423s
Feb 20 19:01:00.840: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 42.2396219s
Feb 20 19:01:02.846: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 44.245340397s
Feb 20 19:01:04.853: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 46.252116767s
Feb 20 19:01:06.857: INFO: Pod "client-cannot-connect-jh7k2": Phase="Running", Reason="", readiness=true. Elapsed: 48.256747931s
Feb 20 19:01:08.865: INFO: Pod "client-cannot-connect-jh7k2": Phase="Failed", Reason="", readiness=false. Elapsed: 50.264616946s
[1mSTEP[0m: Cleaning up the pod client-cannot-connect-jh7k2
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:01:09.162: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-9888" for this suite.

[32m• [SLOW TEST:69.101 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should support a 'default-deny' policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should support a 'default-deny' policy [Feature:NetworkPolicy]","total":26,"completed":20,"skipped":4270,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:01:09.221: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4094
Feb 20 19:01:09.458: INFO: Created pod server-t7bvc
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4094
Feb 20 19:01:09.544: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:01:09.578: INFO: The status of Pod server-t7bvc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:11.607: INFO: The status of Pod server-t7bvc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:13.584: INFO: The status of Pod server-t7bvc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:15.584: INFO: The status of Pod server-t7bvc is Running (Ready = false)
Feb 20 19:01:17.599: INFO: The status of Pod server-t7bvc is Running (Ready = false)
Feb 20 19:01:19.588: INFO: The status of Pod server-t7bvc is Running (Ready = false)
Feb 20 19:01:21.587: INFO: The status of Pod server-t7bvc is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:01:21.605: INFO: Waiting for client-can-connect-80-fzl2s to complete.
Feb 20 19:01:25.624: INFO: Waiting for client-can-connect-80-fzl2s to complete.
Feb 20 19:01:25.624: INFO: Waiting up to 5m0s for pod "client-can-connect-80-fzl2s" in namespace "network-policy-4094" to be "Succeeded or Failed"
Feb 20 19:01:25.628: INFO: Pod "client-can-connect-80-fzl2s": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.039558ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:25.628: INFO: Pod "client-can-connect-80-fzl2s" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-fzl2s
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:01:25.675: INFO: Waiting for client-can-connect-81-mwmlp to complete.
Feb 20 19:01:29.689: INFO: Waiting for client-can-connect-81-mwmlp to complete.
Feb 20 19:01:29.689: INFO: Waiting up to 5m0s for pod "client-can-connect-81-mwmlp" in namespace "network-policy-4094" to be "Succeeded or Failed"
Feb 20 19:01:29.694: INFO: Pod "client-can-connect-81-mwmlp": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.980539ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:29.694: INFO: Pod "client-can-connect-81-mwmlp" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-mwmlp
[It] should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to one port.
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to another port.
[1mSTEP[0m: Testing pods can connect to both ports when both policies are present.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:01:29.776: INFO: Waiting for client-a-lh58d to complete.
Feb 20 19:01:33.812: INFO: Waiting for client-a-lh58d to complete.
Feb 20 19:01:33.813: INFO: Waiting up to 5m0s for pod "client-a-lh58d" in namespace "network-policy-4094" to be "Succeeded or Failed"
Feb 20 19:01:33.816: INFO: Pod "client-a-lh58d": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.75458ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:33.816: INFO: Pod "client-a-lh58d" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-lh58d
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 19:01:33.856: INFO: Waiting for client-b-kgdzk to complete.
Feb 20 19:01:37.880: INFO: Waiting for client-b-kgdzk to complete.
Feb 20 19:01:37.880: INFO: Waiting up to 5m0s for pod "client-b-kgdzk" in namespace "network-policy-4094" to be "Succeeded or Failed"
Feb 20 19:01:37.888: INFO: Pod "client-b-kgdzk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.997777ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:37.888: INFO: Pod "client-b-kgdzk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-kgdzk
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:01:38.096: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4094" for this suite.

[32m• [SLOW TEST:28.903 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]","total":26,"completed":21,"skipped":4297,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:01:38.175: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-3744
Feb 20 19:01:38.354: INFO: Created pod server-x8qfz
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-3744
Feb 20 19:01:38.446: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:01:38.465: INFO: The status of Pod server-x8qfz is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:40.524: INFO: The status of Pod server-x8qfz is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:42.494: INFO: The status of Pod server-x8qfz is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:01:44.474: INFO: The status of Pod server-x8qfz is Running (Ready = false)
Feb 20 19:01:46.472: INFO: The status of Pod server-x8qfz is Running (Ready = false)
Feb 20 19:01:48.476: INFO: The status of Pod server-x8qfz is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:01:48.514: INFO: Waiting for client-can-connect-80-75xcb to complete.
Feb 20 19:01:52.525: INFO: Waiting for client-can-connect-80-75xcb to complete.
Feb 20 19:01:52.526: INFO: Waiting up to 5m0s for pod "client-can-connect-80-75xcb" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:01:52.533: INFO: Pod "client-can-connect-80-75xcb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.213002ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:52.533: INFO: Pod "client-can-connect-80-75xcb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-75xcb
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:01:52.575: INFO: Waiting for client-can-connect-81-2skz6 to complete.
Feb 20 19:01:56.586: INFO: Waiting for client-can-connect-81-2skz6 to complete.
Feb 20 19:01:56.587: INFO: Waiting up to 5m0s for pod "client-can-connect-81-2skz6" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:01:56.602: INFO: Pod "client-can-connect-81-2skz6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 15.754768ms
[1mSTEP[0m: Saw pod success
Feb 20 19:01:56.602: INFO: Pod "client-can-connect-81-2skz6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-2skz6
[It] should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:01:56.730: INFO: Waiting for client-a-q62tt to complete.
Feb 20 19:02:00.758: INFO: Waiting for client-a-q62tt to complete.
Feb 20 19:02:00.758: INFO: Waiting up to 5m0s for pod "client-a-q62tt" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:02:00.762: INFO: Pod "client-a-q62tt": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.942267ms
[1mSTEP[0m: Saw pod success
Feb 20 19:02:00.762: INFO: Pod "client-a-q62tt" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-q62tt
[1mSTEP[0m: Creating client-b, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Feb 20 19:02:00.819: INFO: Waiting for client-b-hcbz5 to complete.
Feb 20 19:02:04.830: INFO: Waiting for client-b-hcbz5 to complete.
Feb 20 19:02:04.830: INFO: Waiting up to 5m0s for pod "client-b-hcbz5" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:02:04.834: INFO: Pod "client-b-hcbz5": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.97158ms
[1mSTEP[0m: Saw pod success
Feb 20 19:02:04.834: INFO: Pod "client-b-hcbz5" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-hcbz5
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:02:04.886: INFO: Waiting for client-a-gcgbk to complete.
Feb 20 19:02:08.914: INFO: Waiting for client-a-gcgbk to complete.
Feb 20 19:02:08.914: INFO: Waiting up to 5m0s for pod "client-a-gcgbk" in namespace "network-policy-b-5154" to be "Succeeded or Failed"
Feb 20 19:02:08.920: INFO: Pod "client-a-gcgbk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.211375ms
[1mSTEP[0m: Saw pod success
Feb 20 19:02:08.920: INFO: Pod "client-a-gcgbk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-gcgbk
[1mSTEP[0m: Creating a network policy for the server which allows traffic from the pod 'client-a' in same namespace.
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:02:09.042: INFO: Waiting for client-a-pnn6t to complete.
Feb 20 19:02:13.061: INFO: Waiting for client-a-pnn6t to complete.
Feb 20 19:02:13.061: INFO: Waiting up to 5m0s for pod "client-a-pnn6t" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:02:13.067: INFO: Pod "client-a-pnn6t": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.365977ms
[1mSTEP[0m: Saw pod success
Feb 20 19:02:13.068: INFO: Pod "client-a-pnn6t" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-pnn6t
[1mSTEP[0m: Creating client-b, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 19:02:13.121: INFO: Waiting for client-b-jg2bt to complete.
Feb 20 19:02:13.121: INFO: Waiting up to 5m0s for pod "client-b-jg2bt" in namespace "network-policy-3744" to be "Succeeded or Failed"
Feb 20 19:02:13.130: INFO: Pod "client-b-jg2bt": Phase="Pending", Reason="", readiness=false. Elapsed: 8.377666ms
Feb 20 19:02:15.135: INFO: Pod "client-b-jg2bt": Phase="Pending", Reason="", readiness=false. Elapsed: 2.013876845s
Feb 20 19:02:17.140: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 4.018263757s
Feb 20 19:02:19.157: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 6.035505667s
Feb 20 19:02:21.183: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 8.061428431s
Feb 20 19:02:23.191: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 10.069830321s
Feb 20 19:02:25.197: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 12.075735848s
Feb 20 19:02:27.242: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 14.120442713s
Feb 20 19:02:29.256: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 16.134391023s
Feb 20 19:02:31.265: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 18.143428238s
Feb 20 19:02:33.272: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 20.150670513s
Feb 20 19:02:35.278: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 22.156841463s
Feb 20 19:02:37.285: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 24.1637521s
Feb 20 19:02:39.295: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 26.173714937s
Feb 20 19:02:41.451: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 28.32924923s
Feb 20 19:02:43.458: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 30.33609706s
Feb 20 19:02:45.466: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 32.345050564s
Feb 20 19:02:47.514: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 34.392099658s
Feb 20 19:02:49.521: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 36.399553534s
Feb 20 19:02:51.526: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 38.404191609s
Feb 20 19:02:53.531: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 40.409908262s
Feb 20 19:02:55.538: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 42.41662712s
Feb 20 19:02:57.546: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 44.424192232s
Feb 20 19:02:59.550: INFO: Pod "client-b-jg2bt": Phase="Running", Reason="", readiness=true. Elapsed: 46.428680606s
Feb 20 19:03:01.561: INFO: Pod "client-b-jg2bt": Phase="Failed", Reason="", readiness=false. Elapsed: 48.439906861s
[1mSTEP[0m: Cleaning up the pod client-b-jg2bt
[1mSTEP[0m: Creating client-a, not in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 19:03:01.678: INFO: Waiting for client-a-nm5n6 to complete.
Feb 20 19:03:01.678: INFO: Waiting up to 5m0s for pod "client-a-nm5n6" in namespace "network-policy-b-5154" to be "Succeeded or Failed"
Feb 20 19:03:01.764: INFO: Pod "client-a-nm5n6": Phase="Pending", Reason="", readiness=false. Elapsed: 85.462696ms
Feb 20 19:03:03.770: INFO: Pod "client-a-nm5n6": Phase="Pending", Reason="", readiness=false. Elapsed: 2.091595099s
Feb 20 19:03:05.775: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 4.096911549s
Feb 20 19:03:07.788: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 6.109442513s
Feb 20 19:03:09.962: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 8.28395895s
Feb 20 19:03:11.973: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 10.294269875s
Feb 20 19:03:13.980: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 12.301832153s
Feb 20 19:03:15.986: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 14.308007435s
Feb 20 19:03:17.993: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 16.315141282s
Feb 20 19:03:19.999: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 18.320459031s
Feb 20 19:03:22.005: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 20.326405019s
Feb 20 19:03:24.018: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 22.340015205s
Feb 20 19:03:26.025: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 24.346217523s
Feb 20 19:03:28.034: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 26.355298104s
Feb 20 19:03:30.041: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 28.362255851s
Feb 20 19:03:32.046: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 30.367753121s
Feb 20 19:03:34.051: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 32.373032331s
Feb 20 19:03:36.059: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 34.380359595s
Feb 20 19:03:38.070: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 36.391386621s
Feb 20 19:03:40.080: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 38.401699046s
Feb 20 19:03:42.087: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 40.408680521s
Feb 20 19:03:44.092: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 42.413594576s
Feb 20 19:03:46.099: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 44.420809947s
Feb 20 19:03:48.110: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 46.431175695s
Feb 20 19:03:50.116: INFO: Pod "client-a-nm5n6": Phase="Running", Reason="", readiness=true. Elapsed: 48.437804284s
Feb 20 19:03:52.128: INFO: Pod "client-a-nm5n6": Phase="Failed", Reason="", readiness=false. Elapsed: 50.45015887s
[1mSTEP[0m: Cleaning up the pod client-a-nm5n6
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:03:52.317: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-3744" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-5154" for this suite.

[32m• [SLOW TEST:134.226 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]","total":26,"completed":22,"skipped":4513,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:03:52.466: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-3912
Feb 20 19:03:52.774: INFO: Created pod server-6f6st
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-3912
Feb 20 19:03:52.858: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:03:52.872: INFO: The status of Pod server-6f6st is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:03:54.883: INFO: The status of Pod server-6f6st is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:03:56.877: INFO: The status of Pod server-6f6st is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:03:58.888: INFO: The status of Pod server-6f6st is Running (Ready = false)
Feb 20 19:04:00.893: INFO: The status of Pod server-6f6st is Running (Ready = false)
Feb 20 19:04:02.881: INFO: The status of Pod server-6f6st is Running (Ready = false)
Feb 20 19:04:04.878: INFO: The status of Pod server-6f6st is Running (Ready = false)
Feb 20 19:04:06.877: INFO: The status of Pod server-6f6st is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:04:06.897: INFO: Waiting for client-can-connect-80-bwb9h to complete.
Feb 20 19:04:10.941: INFO: Waiting for client-can-connect-80-bwb9h to complete.
Feb 20 19:04:10.941: INFO: Waiting up to 5m0s for pod "client-can-connect-80-bwb9h" in namespace "network-policy-3912" to be "Succeeded or Failed"
Feb 20 19:04:10.951: INFO: Pod "client-can-connect-80-bwb9h": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.393065ms
[1mSTEP[0m: Saw pod success
Feb 20 19:04:10.951: INFO: Pod "client-can-connect-80-bwb9h" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-bwb9h
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:04:11.024: INFO: Waiting for client-can-connect-81-zc7qz to complete.
Feb 20 19:04:15.074: INFO: Waiting for client-can-connect-81-zc7qz to complete.
Feb 20 19:04:15.074: INFO: Waiting up to 5m0s for pod "client-can-connect-81-zc7qz" in namespace "network-policy-3912" to be "Succeeded or Failed"
Feb 20 19:04:15.079: INFO: Pod "client-can-connect-81-zc7qz": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.567893ms
[1mSTEP[0m: Saw pod success
Feb 20 19:04:15.079: INFO: Pod "client-can-connect-81-zc7qz" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-zc7qz
[It] should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908
[1mSTEP[0m: Creating a server pod ns-b-server-a in namespace network-policy-b-1311
Feb 20 19:04:15.231: INFO: Created pod ns-b-server-a-89lrc
[1mSTEP[0m: Creating a service svc-ns-b-server-a for pod ns-b-server-a in namespace network-policy-b-1311
Feb 20 19:04:15.301: INFO: Created service svc-ns-b-server-a
[1mSTEP[0m: Creating a server pod ns-b-server-b in namespace network-policy-b-1311
Feb 20 19:04:15.325: INFO: Created pod ns-b-server-b-knzb5
[1mSTEP[0m: Creating a service svc-ns-b-server-b for pod ns-b-server-b in namespace network-policy-b-1311
Feb 20 19:04:15.433: INFO: Created service svc-ns-b-server-b
Feb 20 19:04:15.433: INFO: Waiting for servers to be ready.
Feb 20 19:04:15.463: INFO: The status of Pod server-6f6st is Running (Ready = true)
Feb 20 19:04:15.469: INFO: The status of Pod ns-b-server-a-89lrc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:04:17.892: INFO: The status of Pod ns-b-server-a-89lrc is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:04:19.474: INFO: The status of Pod ns-b-server-a-89lrc is Running (Ready = true)
Feb 20 19:04:19.482: INFO: The status of Pod ns-b-server-b-knzb5 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:04:21.491: INFO: The status of Pod ns-b-server-b-knzb5 is Running (Ready = false)
Feb 20 19:04:23.489: INFO: The status of Pod ns-b-server-b-knzb5 is Running (Ready = true)
[1mSTEP[0m: Creating a network policy for the server which allows traffic only to a server in different namespace.
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should be able to contact the server-a in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-ns-b-server-a.
Feb 20 19:04:23.554: INFO: Waiting for client-a-d7n7f to complete.
Feb 20 19:04:27.614: INFO: Waiting for client-a-d7n7f to complete.
Feb 20 19:04:27.616: INFO: Waiting up to 5m0s for pod "client-a-d7n7f" in namespace "network-policy-3912" to be "Succeeded or Failed"
Feb 20 19:04:27.626: INFO: Pod "client-a-d7n7f": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.96562ms
[1mSTEP[0m: Saw pod success
Feb 20 19:04:27.627: INFO: Pod "client-a-d7n7f" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-d7n7f
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should not be able to contact the server-b in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-ns-b-server-b.
Feb 20 19:04:27.741: INFO: Waiting for client-a-nlmsq to complete.
Feb 20 19:04:27.741: INFO: Waiting up to 5m0s for pod "client-a-nlmsq" in namespace "network-policy-3912" to be "Succeeded or Failed"
Feb 20 19:04:27.832: INFO: Pod "client-a-nlmsq": Phase="Pending", Reason="", readiness=false. Elapsed: 90.54505ms
Feb 20 19:04:29.843: INFO: Pod "client-a-nlmsq": Phase="Pending", Reason="", readiness=false. Elapsed: 2.102411909s
Feb 20 19:04:31.851: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 4.11008014s
Feb 20 19:04:33.857: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 6.115770476s
Feb 20 19:04:35.863: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 8.122323637s
Feb 20 19:04:37.875: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 10.134211304s
Feb 20 19:04:39.888: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 12.146486955s
Feb 20 19:04:41.896: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 14.155303679s
Feb 20 19:04:43.902: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 16.161094879s
Feb 20 19:04:45.908: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 18.166459355s
Feb 20 19:04:47.914: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 20.173415661s
Feb 20 19:04:49.922: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 22.180821368s
Feb 20 19:04:51.938: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 24.197054448s
Feb 20 19:04:53.944: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 26.203180511s
Feb 20 19:04:55.951: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 28.2103607s
Feb 20 19:04:57.963: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 30.222411159s
Feb 20 19:04:59.973: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 32.231814709s
Feb 20 19:05:01.980: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 34.238756923s
Feb 20 19:05:03.986: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 36.245209015s
Feb 20 19:05:05.995: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 38.253901115s
Feb 20 19:05:08.009: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 40.267603321s
Feb 20 19:05:10.020: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 42.278918703s
Feb 20 19:05:12.027: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 44.285752893s
Feb 20 19:05:14.039: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 46.298264579s
Feb 20 19:05:16.048: INFO: Pod "client-a-nlmsq": Phase="Running", Reason="", readiness=true. Elapsed: 48.306603427s
Feb 20 19:05:18.067: INFO: Pod "client-a-nlmsq": Phase="Failed", Reason="", readiness=false. Elapsed: 50.32566893s
[1mSTEP[0m: Cleaning up the pod client-a-nlmsq
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should not be able to contact the server in namespace-a.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 19:05:18.198: INFO: Waiting for client-a-6qcq9 to complete.
Feb 20 19:05:18.198: INFO: Waiting up to 5m0s for pod "client-a-6qcq9" in namespace "network-policy-3912" to be "Succeeded or Failed"
Feb 20 19:05:18.207: INFO: Pod "client-a-6qcq9": Phase="Pending", Reason="", readiness=false. Elapsed: 8.440556ms
Feb 20 19:05:20.216: INFO: Pod "client-a-6qcq9": Phase="Pending", Reason="", readiness=false. Elapsed: 2.01781581s
Feb 20 19:05:22.228: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 4.029840558s
Feb 20 19:05:24.235: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 6.036455133s
Feb 20 19:05:26.240: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 8.042292741s
Feb 20 19:05:28.255: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 10.05721178s
Feb 20 19:05:30.263: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 12.065367869s
Feb 20 19:05:32.269: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 14.07099735s
Feb 20 19:05:34.275: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 16.076457682s
Feb 20 19:05:36.280: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 18.081655657s
Feb 20 19:05:38.296: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 20.098172705s
Feb 20 19:05:40.305: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 22.107360044s
Feb 20 19:05:42.314: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 24.115863406s
Feb 20 19:05:44.324: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 26.126030465s
Feb 20 19:05:46.330: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 28.131453773s
Feb 20 19:05:48.366: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 30.167523671s
Feb 20 19:05:50.377: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 32.178778778s
Feb 20 19:05:52.390: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 34.191762097s
Feb 20 19:05:54.398: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 36.200175352s
Feb 20 19:05:56.405: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 38.206947632s
Feb 20 19:05:58.422: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 40.223808455s
Feb 20 19:06:00.434: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 42.235896224s
Feb 20 19:06:02.441: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 44.243351264s
Feb 20 19:06:04.450: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 46.252084825s
Feb 20 19:06:06.457: INFO: Pod "client-a-6qcq9": Phase="Running", Reason="", readiness=true. Elapsed: 48.259284304s
Feb 20 19:06:08.478: INFO: Pod "client-a-6qcq9": Phase="Failed", Reason="", readiness=false. Elapsed: 50.280183724s
[1mSTEP[0m: Cleaning up the pod client-a-6qcq9
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:06:09.482: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-3912" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-1311" for this suite.

[32m• [SLOW TEST:137.097 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":23,"skipped":4680,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow egress access on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:06:09.588: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-9670
Feb 20 19:06:09.862: INFO: Created pod server-rpqx7
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-9670
Feb 20 19:06:09.918: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:06:09.948: INFO: The status of Pod server-rpqx7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:06:11.955: INFO: The status of Pod server-rpqx7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:06:13.958: INFO: The status of Pod server-rpqx7 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:06:15.959: INFO: The status of Pod server-rpqx7 is Running (Ready = false)
Feb 20 19:06:17.980: INFO: The status of Pod server-rpqx7 is Running (Ready = false)
Feb 20 19:06:19.960: INFO: The status of Pod server-rpqx7 is Running (Ready = false)
Feb 20 19:06:21.955: INFO: The status of Pod server-rpqx7 is Running (Ready = false)
Feb 20 19:06:23.955: INFO: The status of Pod server-rpqx7 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:06:23.983: INFO: Waiting for client-can-connect-80-fn8jk to complete.
Feb 20 19:06:30.022: INFO: Waiting for client-can-connect-80-fn8jk to complete.
Feb 20 19:06:30.022: INFO: Waiting up to 5m0s for pod "client-can-connect-80-fn8jk" in namespace "network-policy-9670" to be "Succeeded or Failed"
Feb 20 19:06:30.028: INFO: Pod "client-can-connect-80-fn8jk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.048142ms
[1mSTEP[0m: Saw pod success
Feb 20 19:06:30.029: INFO: Pod "client-can-connect-80-fn8jk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-fn8jk
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:06:30.109: INFO: Waiting for client-can-connect-81-lkr45 to complete.
Feb 20 19:06:34.136: INFO: Waiting for client-can-connect-81-lkr45 to complete.
Feb 20 19:06:34.136: INFO: Waiting up to 5m0s for pod "client-can-connect-81-lkr45" in namespace "network-policy-9670" to be "Succeeded or Failed"
Feb 20 19:06:34.139: INFO: Pod "client-can-connect-81-lkr45": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.754319ms
[1mSTEP[0m: Saw pod success
Feb 20 19:06:34.139: INFO: Pod "client-can-connect-81-lkr45" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-lkr45
[It] should allow egress access on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:06:34.197: INFO: Waiting for client-a-9httn to complete.
Feb 20 19:06:38.232: INFO: Waiting for client-a-9httn to complete.
Feb 20 19:06:38.232: INFO: Waiting up to 5m0s for pod "client-a-9httn" in namespace "network-policy-9670" to be "Succeeded or Failed"
Feb 20 19:06:38.236: INFO: Pod "client-a-9httn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.510436ms
[1mSTEP[0m: Saw pod success
Feb 20 19:06:38.236: INFO: Pod "client-a-9httn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-9httn
[1mSTEP[0m: Creating client-a which should not be able to contact the server on port 81.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 19:06:38.352: INFO: Waiting for client-a-njg5w to complete.
Feb 20 19:06:38.352: INFO: Waiting up to 5m0s for pod "client-a-njg5w" in namespace "network-policy-9670" to be "Succeeded or Failed"
Feb 20 19:06:38.377: INFO: Pod "client-a-njg5w": Phase="Pending", Reason="", readiness=false. Elapsed: 24.958546ms
Feb 20 19:06:40.383: INFO: Pod "client-a-njg5w": Phase="Pending", Reason="", readiness=false. Elapsed: 2.031475097s
Feb 20 19:06:42.392: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 4.039644354s
Feb 20 19:06:44.397: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 6.045064397s
Feb 20 19:06:46.412: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 8.060031525s
Feb 20 19:06:48.419: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 10.067393183s
Feb 20 19:06:50.452: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 12.099662535s
Feb 20 19:06:52.456: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 14.104535107s
Feb 20 19:06:54.468: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 16.115870251s
Feb 20 19:06:56.472: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 18.12059743s
Feb 20 19:06:58.480: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 20.128097875s
Feb 20 19:07:00.489: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 22.136712608s
Feb 20 19:07:02.494: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 24.142262874s
Feb 20 19:07:04.500: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 26.148536812s
Feb 20 19:07:06.507: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 28.155387357s
Feb 20 19:07:08.516: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 30.163830423s
Feb 20 19:07:10.522: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 32.170063215s
Feb 20 19:07:12.528: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 34.175730372s
Feb 20 19:07:14.535: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 36.182928831s
Feb 20 19:07:16.541: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 38.188709594s
Feb 20 19:07:18.553: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 40.201340468s
Feb 20 19:07:20.655: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 42.30355351s
Feb 20 19:07:22.670: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 44.318052845s
Feb 20 19:07:24.675: INFO: Pod "client-a-njg5w": Phase="Running", Reason="", readiness=true. Elapsed: 46.323331931s
Feb 20 19:07:26.683: INFO: Pod "client-a-njg5w": Phase="Failed", Reason="", readiness=false. Elapsed: 48.331191588s
[1mSTEP[0m: Cleaning up the pod client-a-njg5w
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:07:27.225: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-9670" for this suite.

[32m• [SLOW TEST:77.697 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow egress access on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow egress access on one named port [Feature:NetworkPolicy]","total":26,"completed":24,"skipped":4693,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:07:27.306: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-702
Feb 20 19:07:27.517: INFO: Created pod server-nj29r
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-702
Feb 20 19:07:27.662: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:07:27.676: INFO: The status of Pod server-nj29r is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:07:29.684: INFO: The status of Pod server-nj29r is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:07:31.694: INFO: The status of Pod server-nj29r is Running (Ready = false)
Feb 20 19:07:33.683: INFO: The status of Pod server-nj29r is Running (Ready = false)
Feb 20 19:07:35.682: INFO: The status of Pod server-nj29r is Running (Ready = false)
Feb 20 19:07:37.691: INFO: The status of Pod server-nj29r is Running (Ready = false)
Feb 20 19:07:39.682: INFO: The status of Pod server-nj29r is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:07:39.710: INFO: Waiting for client-can-connect-80-gt9sj to complete.
Feb 20 19:07:43.739: INFO: Waiting for client-can-connect-80-gt9sj to complete.
Feb 20 19:07:43.739: INFO: Waiting up to 5m0s for pod "client-can-connect-80-gt9sj" in namespace "network-policy-702" to be "Succeeded or Failed"
Feb 20 19:07:43.743: INFO: Pod "client-can-connect-80-gt9sj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.433135ms
[1mSTEP[0m: Saw pod success
Feb 20 19:07:43.744: INFO: Pod "client-can-connect-80-gt9sj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-gt9sj
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:07:43.793: INFO: Waiting for client-can-connect-81-pzv56 to complete.
Feb 20 19:07:47.833: INFO: Waiting for client-can-connect-81-pzv56 to complete.
Feb 20 19:07:47.833: INFO: Waiting up to 5m0s for pod "client-can-connect-81-pzv56" in namespace "network-policy-702" to be "Succeeded or Failed"
Feb 20 19:07:47.848: INFO: Pod "client-can-connect-81-pzv56": Phase="Succeeded", Reason="", readiness=false. Elapsed: 14.947315ms
[1mSTEP[0m: Saw pod success
Feb 20 19:07:47.848: INFO: Pod "client-can-connect-81-pzv56" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-pzv56
[It] should allow ingress access on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:07:47.972: INFO: Waiting for client-a-6k4m2 to complete.
Feb 20 19:07:51.993: INFO: Waiting for client-a-6k4m2 to complete.
Feb 20 19:07:51.993: INFO: Waiting up to 5m0s for pod "client-a-6k4m2" in namespace "network-policy-702" to be "Succeeded or Failed"
Feb 20 19:07:51.999: INFO: Pod "client-a-6k4m2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.279408ms
[1mSTEP[0m: Saw pod success
Feb 20 19:07:51.999: INFO: Pod "client-a-6k4m2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-6k4m2
[1mSTEP[0m: Creating client-b which should not be able to contact the server on port 81.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Feb 20 19:07:52.037: INFO: Waiting for client-b-qq7s9 to complete.
Feb 20 19:07:52.037: INFO: Waiting up to 5m0s for pod "client-b-qq7s9" in namespace "network-policy-702" to be "Succeeded or Failed"
Feb 20 19:07:52.050: INFO: Pod "client-b-qq7s9": Phase="Pending", Reason="", readiness=false. Elapsed: 12.832883ms
Feb 20 19:07:54.055: INFO: Pod "client-b-qq7s9": Phase="Pending", Reason="", readiness=false. Elapsed: 2.018280148s
Feb 20 19:07:56.060: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 4.022615159s
Feb 20 19:07:58.076: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 6.038446631s
Feb 20 19:08:00.085: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 8.04805076s
Feb 20 19:08:02.093: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 10.056233057s
Feb 20 19:08:04.099: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 12.061924608s
Feb 20 19:08:06.105: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 14.068129582s
Feb 20 19:08:08.162: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 16.125190112s
Feb 20 19:08:10.261: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 18.223627619s
Feb 20 19:08:12.282: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 20.244687059s
Feb 20 19:08:14.288: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 22.251127986s
Feb 20 19:08:16.294: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 24.256799044s
Feb 20 19:08:18.311: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 26.273511104s
Feb 20 19:08:20.320: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 28.282429101s
Feb 20 19:08:22.327: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 30.290224023s
Feb 20 19:08:24.332: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 32.294880437s
Feb 20 19:08:26.341: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 34.303577316s
Feb 20 19:08:28.352: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 36.314924995s
Feb 20 19:08:30.358: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 38.320866183s
Feb 20 19:08:32.365: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 40.328126177s
Feb 20 19:08:34.373: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 42.336073289s
Feb 20 19:08:36.379: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 44.3421414s
Feb 20 19:08:38.388: INFO: Pod "client-b-qq7s9": Phase="Running", Reason="", readiness=true. Elapsed: 46.350557909s
Feb 20 19:08:40.396: INFO: Pod "client-b-qq7s9": Phase="Failed", Reason="", readiness=false. Elapsed: 48.358749848s
[1mSTEP[0m: Cleaning up the pod client-b-qq7s9
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:08:40.689: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-702" for this suite.

[32m• [SLOW TEST:73.445 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access on one named port [Feature:NetworkPolicy]","total":26,"completed":25,"skipped":4727,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould stop enforcing policies after they are deleted [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Feb 20 19:08:40.764: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7748
Feb 20 19:08:41.100: INFO: Created pod server-xr8l2
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7748
Feb 20 19:08:41.340: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Feb 20 19:08:41.358: INFO: The status of Pod server-xr8l2 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:08:43.364: INFO: The status of Pod server-xr8l2 is Pending, waiting for it to be Running (with Ready = true)
Feb 20 19:08:45.364: INFO: The status of Pod server-xr8l2 is Running (Ready = false)
Feb 20 19:08:47.364: INFO: The status of Pod server-xr8l2 is Running (Ready = false)
Feb 20 19:08:49.365: INFO: The status of Pod server-xr8l2 is Running (Ready = false)
Feb 20 19:08:51.364: INFO: The status of Pod server-xr8l2 is Running (Ready = false)
Feb 20 19:08:53.364: INFO: The status of Pod server-xr8l2 is Running (Ready = false)
Feb 20 19:08:55.365: INFO: The status of Pod server-xr8l2 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Feb 20 19:08:55.372: INFO: Waiting for client-can-connect-80-j5vzb to complete.
Feb 20 19:08:59.405: INFO: Waiting for client-can-connect-80-j5vzb to complete.
Feb 20 19:08:59.405: INFO: Waiting up to 5m0s for pod "client-can-connect-80-j5vzb" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:08:59.416: INFO: Pod "client-can-connect-80-j5vzb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 10.820217ms
[1mSTEP[0m: Saw pod success
Feb 20 19:08:59.416: INFO: Pod "client-can-connect-80-j5vzb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-j5vzb
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Feb 20 19:08:59.472: INFO: Waiting for client-can-connect-81-n9665 to complete.
Feb 20 19:09:03.485: INFO: Waiting for client-can-connect-81-n9665 to complete.
Feb 20 19:09:03.485: INFO: Waiting up to 5m0s for pod "client-can-connect-81-n9665" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:09:03.489: INFO: Pod "client-can-connect-81-n9665": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.629883ms
[1mSTEP[0m: Saw pod success
Feb 20 19:09:03.489: INFO: Pod "client-can-connect-81-n9665" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-n9665
[It] should stop enforcing policies after they are deleted [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157
[1mSTEP[0m: Creating a network policy for the server which denies all traffic.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 19:09:03.537: INFO: Waiting for client-a-69x6f to complete.
Feb 20 19:09:03.537: INFO: Waiting up to 5m0s for pod "client-a-69x6f" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:09:03.561: INFO: Pod "client-a-69x6f": Phase="Pending", Reason="", readiness=false. Elapsed: 23.530294ms
Feb 20 19:09:05.566: INFO: Pod "client-a-69x6f": Phase="Pending", Reason="", readiness=false. Elapsed: 2.028416284s
Feb 20 19:09:07.570: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 4.032861239s
Feb 20 19:09:09.588: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 6.051119339s
Feb 20 19:09:11.594: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 8.056753589s
Feb 20 19:09:13.600: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 10.062716652s
Feb 20 19:09:15.606: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 12.069164142s
Feb 20 19:09:17.610: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 14.072939059s
Feb 20 19:09:19.618: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 16.080574512s
Feb 20 19:09:21.624: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 18.087249744s
Feb 20 19:09:23.629: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 20.091720499s
Feb 20 19:09:25.635: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 22.097256317s
Feb 20 19:09:27.640: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 24.102542086s
Feb 20 19:09:29.647: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 26.110165689s
Feb 20 19:09:31.652: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 28.114963773s
Feb 20 19:09:33.658: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 30.120334847s
Feb 20 19:09:35.673: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 32.135939005s
Feb 20 19:09:37.678: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 34.141078916s
Feb 20 19:09:39.687: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 36.149582476s
Feb 20 19:09:41.694: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 38.156826655s
Feb 20 19:09:43.700: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 40.162744034s
Feb 20 19:09:45.706: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 42.168327203s
Feb 20 19:09:47.720: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 44.182323468s
Feb 20 19:09:49.728: INFO: Pod "client-a-69x6f": Phase="Running", Reason="", readiness=true. Elapsed: 46.190765051s
Feb 20 19:09:51.733: INFO: Pod "client-a-69x6f": Phase="Failed", Reason="", readiness=false. Elapsed: 48.195898596s
[1mSTEP[0m: Cleaning up the pod client-a-69x6f
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-a.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:09:51.835: INFO: Waiting for client-a-7jxft to complete.
Feb 20 19:09:55.862: INFO: Waiting for client-a-7jxft to complete.
Feb 20 19:09:55.862: INFO: Waiting up to 5m0s for pod "client-a-7jxft" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:09:55.866: INFO: Pod "client-a-7jxft": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.193439ms
[1mSTEP[0m: Saw pod success
Feb 20 19:09:55.866: INFO: Pod "client-a-7jxft" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-7jxft
[1mSTEP[0m: Deleting the network policy allowing traffic from client-a
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Feb 20 19:09:55.932: INFO: Waiting for client-a-b5kx7 to complete.
Feb 20 19:09:55.932: INFO: Waiting up to 5m0s for pod "client-a-b5kx7" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:09:55.947: INFO: Pod "client-a-b5kx7": Phase="Pending", Reason="", readiness=false. Elapsed: 15.536793ms
Feb 20 19:09:57.957: INFO: Pod "client-a-b5kx7": Phase="Pending", Reason="", readiness=false. Elapsed: 2.024785115s
Feb 20 19:09:59.964: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 4.032131822s
Feb 20 19:10:01.970: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 6.038172066s
Feb 20 19:10:03.976: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 8.043705011s
Feb 20 19:10:05.981: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 10.048654988s
Feb 20 19:10:08.022: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 12.089851735s
Feb 20 19:10:10.028: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 14.096421685s
Feb 20 19:10:12.043: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 16.111314192s
Feb 20 19:10:14.050: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 18.117690032s
Feb 20 19:10:16.058: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 20.126318276s
Feb 20 19:10:18.074: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 22.14191353s
Feb 20 19:10:20.081: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 24.149270849s
Feb 20 19:10:22.088: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 26.15632525s
Feb 20 19:10:24.096: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 28.163974192s
Feb 20 19:10:26.103: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 30.171052464s
Feb 20 19:10:28.144: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 32.211571169s
Feb 20 19:10:30.151: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 34.218714159s
Feb 20 19:10:32.159: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 36.22672421s
Feb 20 19:10:34.168: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 38.235742464s
Feb 20 19:10:36.186: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 40.254393749s
Feb 20 19:10:38.232: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 42.300393945s
Feb 20 19:10:40.238: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 44.306093826s
Feb 20 19:10:42.245: INFO: Pod "client-a-b5kx7": Phase="Running", Reason="", readiness=true. Elapsed: 46.312826283s
Feb 20 19:10:44.255: INFO: Pod "client-a-b5kx7": Phase="Failed", Reason="", readiness=false. Elapsed: 48.323383403s
[1mSTEP[0m: Cleaning up the pod client-a-b5kx7
[1mSTEP[0m: Deleting the network policy denying all traffic.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Feb 20 19:10:44.348: INFO: Waiting for client-a-n576x to complete.
Feb 20 19:10:48.367: INFO: Waiting for client-a-n576x to complete.
Feb 20 19:10:48.367: INFO: Waiting up to 5m0s for pod "client-a-n576x" in namespace "network-policy-7748" to be "Succeeded or Failed"
Feb 20 19:10:48.373: INFO: Pod "client-a-n576x": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.070081ms
[1mSTEP[0m: Saw pod success
Feb 20 19:10:48.373: INFO: Pod "client-a-n576x" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-n576x
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Feb 20 19:10:48.622: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7748" for this suite.

[32m• [SLOW TEST:127.913 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should stop enforcing policies after they are deleted [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should stop enforcing policies after they are deleted [Feature:NetworkPolicy]","total":26,"completed":26,"skipped":4734,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0mFeb 20 19:10:48.736: INFO: Running AfterSuite actions on all nodes
Feb 20 19:10:48.738: INFO: Running AfterSuite actions on node 1
Feb 20 19:10:48.738: INFO: Dumping logs locally to: /root/logZ/
Feb 20 19:10:48.744: INFO: Error running cluster/log-dump/log-dump.sh: fork/exec ../../cluster/log-dump/log-dump.sh: no such file or directory

JUnit report was created: /root/logZ/junit_01.xml
{"msg":"Test Suite completed","total":26,"completed":26,"skipped":4823,"failed":0}

[1m[32mRan 26 of 4849 Specs in 2378.517 seconds[0m
[1m[32mSUCCESS![0m -- [32m[1m26 Passed[0m | [91m[1m0 Failed[0m | [33m[1m0 Pending[0m | [36m[1m4823 Skipped[0m
PASS
